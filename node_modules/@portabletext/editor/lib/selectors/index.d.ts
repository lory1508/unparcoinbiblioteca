import type {KeyedSegment as KeyedSegment_2, Patch} from '@portabletext/patches'
import type {
  ArraySchemaType,
  BlockDecoratorDefinition,
  BlockListDefinition,
  BlockStyleDefinition,
  ObjectSchemaType,
  Path,
  PortableTextChild,
} from '@sanity/types'
import {
  KeyedSegment,
  PortableTextBlock,
  PortableTextListBlock,
  PortableTextObject,
  PortableTextSpan,
  PortableTextTextBlock,
} from '@sanity/types'
import type {
  FocusEvent as FocusEvent_2,
  KeyboardEvent as KeyboardEvent_2,
} from 'react'
import type {Descendant, Operation} from 'slate'
import {TextUnit} from 'slate'
import type {DOMNode} from 'slate-dom'
import type {ReactEditor} from 'slate-react'
import {
  ActionArgs,
  ActionFunction,
  ActorRef,
  ActorRefFrom,
  ActorRefFromLogic,
  AnyActorLogic,
  AnyActorRef,
  AnyEventObject,
  ConditionalRequired,
  EventObject,
  InputFrom,
  IsNotNever,
  MachineContext,
  MachineSnapshot,
  MetaObject,
  NonReducibleUnknown,
  RequiredLogicInput,
  StateMachine,
  StateValue,
  Values,
} from 'xstate'
import {GuardArgs} from 'xstate/guards'
import {
  BlockOffset as BlockOffset_2,
  PortableTextMemberSchemaTypes as PortableTextMemberSchemaTypes_2,
} from '..'
import {
  InputBehaviorEvent as InputBehaviorEvent_2,
  InsertPlacement as InsertPlacement_2,
} from '../behaviors/behavior.types.event'
import {MIMEType as MIMEType_2} from '../internal-utils/mime-type'
import {PickFromUnion as PickFromUnion_2} from '../type-utils'
import {BlockWithOptionalKey as BlockWithOptionalKey_2} from '../types/block-with-optional-key'

/**
 * @beta
 */
declare type Behavior<
  TBehaviorEventType extends
    | '*'
    | `${BehaviorEventTypeNamespace}.*`
    | BehaviorEvent['type'] =
    | '*'
    | `${BehaviorEventTypeNamespace}.*`
    | BehaviorEvent['type'],
  TGuardResponse = true,
  TBehaviorEvent extends
    ResolveBehaviorEvent<TBehaviorEventType> = ResolveBehaviorEvent<TBehaviorEventType>,
> = {
  /**
   * The internal editor event that triggers this behavior.
   */
  on: TBehaviorEventType
  /**
   * Predicate function that determines if the behavior should be executed.
   * Returning a non-nullable value from the guard will pass the value to the
   * actions and execute them.
   */
  guard?: BehaviorGuard<TBehaviorEvent, TGuardResponse>
  /**
   * Array of behavior action sets.
   */
  actions: Array<BehaviorActionSet<TBehaviorEvent, TGuardResponse>>
}

/**
 * @beta
 */
declare type BehaviorAction =
  | SyntheticBehaviorEvent
  | {
      type: 'raise'
      event:
        | InternalBehaviorEvent
        | SyntheticBehaviorEvent
        | CustomBehaviorEvent
    }
  | {
      type: 'noop'
    }
  | {
      type: 'effect'
      effect: () => void
    }

/**
 * @beta
 */
declare type BehaviorActionSet<TBehaviorEvent, TGuardResponse> = (
  payload: {
    /**
     * @deprecated
     * Use `snapshot` instead
     */
    context: EditorContext
    snapshot: EditorSnapshot
    event: TBehaviorEvent
  },
  guardResponse: TGuardResponse,
) => Array<BehaviorAction>

/**
 * @beta
 */
declare type BehaviorEvent =
  | SyntheticBehaviorEvent
  | InternalBehaviorEvent
  | NativeBehaviorEvent
  | CustomBehaviorEvent

declare type BehaviorEventTypeNamespace =
  | SyntheticBehaviorEventNamespace
  | InternalBehaviorEventNamespace
  | NativeBehaviorEventNamespace
  | CustomBehaviorEventNamespace

/**
 * @beta
 */
declare type BehaviorGuard<TBehaviorEvent, TGuardResponse> = (payload: {
  /**
   * @deprecated
   * Use `snapshot` instead
   */
  context: EditorContext
  snapshot: EditorSnapshot
  event: TBehaviorEvent
}) => TGuardResponse | false

/**
 * @beta
 */
declare type BlockOffset = {
  path: [KeyedSegment]
  offset: number
}

declare type BlockWithOptionalKey =
  | TextBlockWithOptionalKey
  | ObjectBlockWithOptionalKey

declare type ClipboardBehaviorEvent =
  | {
      type: NativeBehaviorEventType<'clipboard', 'copy'>
      originEvent: {
        dataTransfer: DataTransfer
      }
      position: Pick<EventPosition, 'selection'>
    }
  | {
      type: NativeBehaviorEventType<'clipboard', 'cut'>
      originEvent: {
        dataTransfer: DataTransfer
      }
      position: Pick<EventPosition, 'selection'>
    }
  | {
      type: NativeBehaviorEventType<'clipboard', 'paste'>
      originEvent: {
        dataTransfer: DataTransfer
      }
      position: Pick<EventPosition, 'selection'>
    }

declare type Converter<TMIMEType extends MIMEType = MIMEType> = {
  mimeType: TMIMEType
  serialize: Serializer<TMIMEType>
  deserialize: Deserializer<TMIMEType>
}

declare type ConverterEvent<TMIMEType extends MIMEType = MIMEType> =
  | {
      type: 'serialize'
      originEvent: 'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
    }
  | {
      type: 'serialization.failure'
      mimeType: TMIMEType
      originEvent: 'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
      reason: string
    }
  | {
      type: 'serialization.success'
      data: string
      mimeType: TMIMEType
      originEvent: 'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
    }
  | {
      type: 'deserialize'
      data: string
    }
  | {
      type: 'deserialization.failure'
      mimeType: TMIMEType
      reason: string
    }
  | {
      type: 'deserialization.success'
      data: Array<PortableTextBlock>
      mimeType: TMIMEType
    }

/**
 * @beta
 */
declare type CustomBehaviorEvent<
  TPayload extends Record<string, unknown> = Record<string, unknown>,
  TType extends string = string,
  TInternalType extends CustomBehaviorEventType<
    'custom',
    TType
  > = CustomBehaviorEventType<'custom', TType>,
> = {
  type: TInternalType
} & TPayload

/**************************************
 * Custom events
 **************************************/
declare type CustomBehaviorEventNamespace = 'custom'

declare type CustomBehaviorEventType<
  TNamespace extends CustomBehaviorEventNamespace,
  TType extends string = '',
> = TType extends '' ? `${TNamespace}` : `${TNamespace}.${TType}`

declare type Deserializer<TMIMEType extends MIMEType> = ({
  snapshot,
  event,
}: {
  snapshot: EditorSnapshot
  event: PickFromUnion<ConverterEvent<TMIMEType>, 'type', 'deserialize'>
}) => PickFromUnion<
  ConverterEvent<TMIMEType>,
  'type',
  'deserialization.success' | 'deserialization.failure'
>

declare type DragBehaviorEvent =
  | {
      type: NativeBehaviorEventType<'drag', 'dragstart'>
      originEvent: {
        dataTransfer: DataTransfer
      }
      position: Pick<EventPosition, 'selection'>
    }
  | {
      type: NativeBehaviorEventType<'drag', 'drag'>
      originEvent: {
        dataTransfer: DataTransfer
      }
    }
  | {
      type: NativeBehaviorEventType<'drag', 'dragend'>
      originEvent: {
        dataTransfer: DataTransfer
      }
    }
  | {
      type: NativeBehaviorEventType<'drag', 'dragenter'>
      originEvent: {
        dataTransfer: DataTransfer
      }
      position: EventPosition
    }
  | {
      type: NativeBehaviorEventType<'drag', 'dragover'>
      originEvent: {
        dataTransfer: DataTransfer
      }
      position: EventPosition
    }
  | {
      type: NativeBehaviorEventType<'drag', 'drop'>
      originEvent: {
        dataTransfer: DataTransfer
      }
      position: EventPosition
    }
  | {
      type: NativeBehaviorEventType<'drag', 'dragleave'>
      originEvent: {
        dataTransfer: DataTransfer
      }
    }

/** @beta */
declare interface EditableAPI {
  activeAnnotations: () => PortableTextObject[]
  isAnnotationActive: (annotationType: PortableTextObject['_type']) => boolean
  addAnnotation: <
    TSchemaType extends {
      name: string
    },
  >(
    type: TSchemaType,
    value?: {
      [prop: string]: unknown
    },
  ) =>
    | {
        markDefPath: Path
        markDefPaths: Array<Path>
        spanPath: Path
      }
    | undefined
  blur: () => void
  delete: (
    selection: EditorSelection,
    options?: EditableAPIDeleteOptions,
  ) => void
  findByPath: (
    path: Path,
  ) => [PortableTextBlock | PortableTextChild | undefined, Path | undefined]
  findDOMNode: (
    element: PortableTextBlock | PortableTextChild,
  ) => DOMNode | undefined
  focus: () => void
  focusBlock: () => PortableTextBlock | undefined
  focusChild: () => PortableTextChild | undefined
  getSelection: () => EditorSelection
  getFragment: () => PortableTextBlock[] | undefined
  getValue: () => PortableTextBlock[] | undefined
  hasBlockStyle: (style: string) => boolean
  hasListStyle: (listStyle: string) => boolean
  insertBlock: <
    TSchemaType extends {
      name: string
    },
  >(
    type: TSchemaType,
    value?: {
      [prop: string]: unknown
    },
  ) => Path
  insertChild: <
    TSchemaType extends {
      name: string
    },
  >(
    type: TSchemaType,
    value?: {
      [prop: string]: unknown
    },
  ) => Path
  insertBreak: () => void
  isCollapsedSelection: () => boolean
  isExpandedSelection: () => boolean
  isMarkActive: (mark: string) => boolean
  isSelectionsOverlapping: (
    selectionA: EditorSelection,
    selectionB: EditorSelection,
  ) => boolean
  isVoid: (element: PortableTextBlock | PortableTextChild) => boolean
  marks: () => string[]
  redo: () => void
  removeAnnotation: <
    TSchemaType extends {
      name: string
    },
  >(
    type: TSchemaType,
  ) => void
  select: (selection: EditorSelection) => void
  toggleBlockStyle: (blockStyle: string) => void
  toggleList: (listStyle: string) => void
  toggleMark: (mark: string) => void
  undo: () => void
}

/** @beta */
declare interface EditableAPIDeleteOptions {
  mode?: 'blocks' | 'children' | 'selected'
}

/**
 * @internal
 */
declare type EditorActor = ActorRefFrom<typeof editorMachine>

/**
 * @public
 */
declare type EditorContext = {
  activeDecorators: Array<string>
  converters: Array<Converter>
  keyGenerator: () => string
  readOnly: boolean
  schema: EditorSchema
  selection: EditorSelection
  value: Array<PortableTextBlock>
}

/**
 * @internal
 */
declare const editorMachine: StateMachine<
  {
    behaviors: Set<Behavior>
    converters: Set<Converter>
    keyGenerator: () => string
    pendingEvents: Array<InternalPatchEvent | MutationEvent>
    schema: EditorSchema
    initialReadOnly: boolean
    maxBlocks: number | undefined
    selection: EditorSelection
    value: Array<PortableTextBlock> | undefined
    internalDrag?: {
      ghost?: HTMLElement
      origin: Pick<EventPosition, 'selection'>
    }
  },
  | {
      type: 'annotation.add'
      annotation: {
        name: string
        value: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: 'annotation.remove'
      annotation: {
        name: string
      }
    }
  | {
      type: 'annotation.toggle'
      annotation: {
        name: string
        value: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: 'block.set'
      at: [KeyedSegment]
      props: Record<string, unknown>
    }
  | {
      type: 'block.unset'
      at: [KeyedSegment]
      props: Array<string>
    }
  | {
      type: 'blur'
    }
  | {
      type: 'data transfer.set'
      data: string
      dataTransfer: DataTransfer
      mimeType: MIMEType_2
    }
  | {
      type: 'decorator.add'
      decorator: string
      offsets?: {
        anchor: BlockOffset_2
        focus: BlockOffset_2
      }
    }
  | {
      type: 'decorator.remove'
      decorator: string
    }
  | {
      type: 'decorator.toggle'
      decorator: string
      offsets?: {
        anchor: BlockOffset_2
        focus: BlockOffset_2
      }
    }
  | {
      type: 'delete'
      selection: NonNullable<EditorSelection>
    }
  | {
      type: 'delete.backward'
      unit: TextUnit
    }
  | {
      type: 'delete.block'
      at: [KeyedSegment]
    }
  | {
      type: 'delete.forward'
      unit: TextUnit
    }
  | {
      type: 'delete.text'
      anchor: BlockOffset_2
      focus: BlockOffset_2
    }
  | {
      type: 'focus'
    }
  | {
      type: 'history.redo'
    }
  | {
      type: 'history.undo'
    }
  | {
      type: 'insert.blocks'
      blocks: Array<PortableTextBlock>
      placement: InsertPlacement_2
    }
  | {
      type: 'insert.inline object'
      inlineObject: {
        name: string
        value?: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: 'insert.break'
    }
  | {
      type: 'insert.soft break'
    }
  | {
      type: 'insert.block'
      block: BlockWithOptionalKey_2
      placement: InsertPlacement_2
      select?: 'start' | 'end' | 'none'
    }
  | {
      type: 'insert.span'
      text: string
      annotations?: Array<{
        name: string
        value: {
          [prop: string]: unknown
        }
      }>
      decorators?: Array<string>
    }
  | {
      type: 'insert.text'
      text: string
    }
  | {
      type: 'list item.add'
      listItem: string
    }
  | {
      type: 'list item.remove'
      listItem: string
    }
  | {
      type: 'list item.toggle'
      listItem: string
    }
  | {
      type: 'move.block'
      at: [KeyedSegment]
      to: [KeyedSegment]
    }
  | {
      type: 'move.block down'
      at: [KeyedSegment]
    }
  | {
      type: 'move.block up'
      at: [KeyedSegment]
    }
  | {
      type: 'select'
      selection: EditorSelection
    }
  | {
      type: 'select.previous block'
      select?: 'start' | 'end'
    }
  | {
      type: 'select.next block'
      select?: 'start' | 'end'
    }
  | {
      type: 'style.add'
      style: string
    }
  | {
      type: 'style.remove'
      style: string
    }
  | {
      type: 'style.toggle'
      style: string
    }
  | {
      type: 'deserialization.success'
      mimeType: MIMEType_2
      data: Array<PortableTextBlock>
      originEvent:
        | PickFromUnion_2<
            NativeBehaviorEvent,
            'type',
            'drag.drop' | 'clipboard.paste'
          >
        | InputBehaviorEvent_2
    }
  | {
      type: 'deserialization.failure'
      mimeType: MIMEType_2
      reason: string
      originEvent:
        | PickFromUnion_2<
            NativeBehaviorEvent,
            'type',
            'drag.drop' | 'clipboard.paste'
          >
        | InputBehaviorEvent_2
    }
  | {
      type: 'serialization.success'
      mimeType: MIMEType_2
      data: string
      originEvent: PickFromUnion_2<
        NativeBehaviorEvent,
        'type',
        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
      >
    }
  | {
      type: 'serialization.failure'
      mimeType: MIMEType_2
      reason: string
      originEvent: PickFromUnion_2<
        NativeBehaviorEvent,
        'type',
        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
      >
    }
  | InternalPatchEvent
  | MutationEvent
  | {
      type: 'normalizing'
    }
  | {
      type: 'done normalizing'
    }
  | {
      type: 'done syncing initial value'
    }
  | {
      type: 'behavior event'
      behaviorEvent:
        | InternalBehaviorEvent
        | SyntheticBehaviorEvent
        | NativeBehaviorEvent
      editor: PortableTextSlateEditor
      defaultActionCallback?: () => void
      nativeEvent?: {
        preventDefault: () => void
      }
    }
  | {
      type: 'custom behavior event'
      behaviorEvent: CustomBehaviorEvent
      editor: PortableTextSlateEditor
      nativeEvent?: {
        preventDefault: () => void
      }
    }
  | CustomBehaviorEvent
  | ExternalSyntheticBehaviorEvent
  | {
      type: 'add behavior'
      behavior: Behavior
    }
  | {
      type: 'remove behavior'
      behavior: Behavior
    }
  | {
      type: 'update readOnly'
      readOnly: boolean
    }
  | {
      type: 'update schema'
      schema: EditorSchema
    }
  | {
      type: 'update behaviors'
      behaviors: Array<Behavior>
    }
  | {
      type: 'update key generator'
      keyGenerator: () => string
    }
  | {
      type: 'update value'
      value: Array<PortableTextBlock> | undefined
    }
  | {
      type: 'update maxBlocks'
      maxBlocks: number | undefined
    }
  | PatchesEvent
  | {
      type: 'notify.patch'
      patch: Patch
    }
  | {
      type: 'notify.mutation'
      patches: Array<Patch>
      snapshot: Array<PortableTextBlock> | undefined
      value: Array<PortableTextBlock> | undefined
    }
  | {
      type: 'notify.blurred'
      event: FocusEvent_2<HTMLDivElement, Element>
    }
  | {
      type: 'notify.done loading'
    }
  | {
      type: 'notify.editable'
    }
  | {
      type: 'notify.error'
      name: string
      description: string
      data: unknown
    }
  | {
      type: 'notify.focused'
      event: FocusEvent_2<HTMLDivElement, Element>
    }
  | {
      type: 'notify.invalid value'
      resolution: InvalidValueResolution | null
      value: Array<PortableTextBlock> | undefined
    }
  | {
      type: 'notify.loading'
    }
  | {
      type: 'notify.read only'
    }
  | {
      type: 'notify.ready'
    }
  | {
      type: 'notify.selection'
      selection: EditorSelection
    }
  | {
      type: 'notify.value changed'
      value: Array<PortableTextBlock> | undefined
    }
  | {
      type: 'notify.unset'
      previousValue: Array<PortableTextBlock>
    }
  | {
      type: 'dragstart'
      origin: Pick<EventPosition, 'selection'>
      ghost?: HTMLElement
    }
  | {
      type: 'dragend'
    }
  | {
      type: 'drop'
    },
  {},
  never,
  Values<{
    'add behavior to context': {
      type: 'add behavior to context'
      params: NonReducibleUnknown
    }
    'remove behavior from context': {
      type: 'remove behavior from context'
      params: NonReducibleUnknown
    }
    'assign behaviors': {
      type: 'assign behaviors'
      params: NonReducibleUnknown
    }
    'assign schema': {
      type: 'assign schema'
      params: NonReducibleUnknown
    }
    'emit patch event': {
      type: 'emit patch event'
      params: NonReducibleUnknown
    }
    'emit mutation event': {
      type: 'emit mutation event'
      params: NonReducibleUnknown
    }
    'emit read only': {
      type: 'emit read only'
      params: NonReducibleUnknown
    }
    'emit editable': {
      type: 'emit editable'
      params: NonReducibleUnknown
    }
    'defer event': {
      type: 'defer event'
      params: NonReducibleUnknown
    }
    'emit pending events': {
      type: 'emit pending events'
      params: NonReducibleUnknown
    }
    'emit ready': {
      type: 'emit ready'
      params: NonReducibleUnknown
    }
    'clear pending events': {
      type: 'clear pending events'
      params: NonReducibleUnknown
    }
    'handle behavior event': {
      type: 'handle behavior event'
      params: unknown
    }
  }>,
  never,
  never,
  {
    'edit mode':
      | {
          editable: 'dragging internally' | 'idle'
        }
      | {
          'read only': 'read only' | 'determine initial edit mode'
        }
    'setup':
      | 'setting up'
      | 'dirty'
      | {
          pristine: 'normalizing' | 'idle'
        }
  },
  'dragging internally',
  {
    behaviors?: Array<Behavior>
    converters?: Array<Converter>
    keyGenerator: () => string
    maxBlocks?: number
    readOnly?: boolean
    schema: EditorSchema
    value?: Array<PortableTextBlock>
  },
  NonReducibleUnknown,
  | {
      type: 'annotation.add'
      annotation: {
        name: string
        value: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: 'annotation.remove'
      annotation: {
        name: string
      }
    }
  | {
      type: 'annotation.toggle'
      annotation: {
        name: string
        value: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: 'block.set'
      at: [KeyedSegment]
      props: Record<string, unknown>
    }
  | {
      type: 'block.unset'
      at: [KeyedSegment]
      props: Array<string>
    }
  | {
      type: 'blur'
    }
  | {
      type: 'data transfer.set'
      data: string
      dataTransfer: DataTransfer
      mimeType: MIMEType_2
    }
  | {
      type: 'decorator.add'
      decorator: string
      offsets?: {
        anchor: BlockOffset_2
        focus: BlockOffset_2
      }
    }
  | {
      type: 'decorator.remove'
      decorator: string
    }
  | {
      type: 'decorator.toggle'
      decorator: string
      offsets?: {
        anchor: BlockOffset_2
        focus: BlockOffset_2
      }
    }
  | {
      type: 'delete'
      selection: NonNullable<EditorSelection>
    }
  | {
      type: 'delete.backward'
      unit: TextUnit
    }
  | {
      type: 'delete.block'
      at: [KeyedSegment]
    }
  | {
      type: 'delete.forward'
      unit: TextUnit
    }
  | {
      type: 'delete.text'
      anchor: BlockOffset_2
      focus: BlockOffset_2
    }
  | {
      type: 'focus'
    }
  | {
      type: 'history.redo'
    }
  | {
      type: 'history.undo'
    }
  | {
      type: 'insert.blocks'
      blocks: Array<PortableTextBlock>
      placement: InsertPlacement_2
    }
  | {
      type: 'insert.inline object'
      inlineObject: {
        name: string
        value?: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: 'insert.break'
    }
  | {
      type: 'insert.soft break'
    }
  | {
      type: 'insert.block'
      block: BlockWithOptionalKey_2
      placement: InsertPlacement_2
      select?: 'start' | 'end' | 'none'
    }
  | {
      type: 'insert.span'
      text: string
      annotations?: Array<{
        name: string
        value: {
          [prop: string]: unknown
        }
      }>
      decorators?: Array<string>
    }
  | {
      type: 'insert.text'
      text: string
    }
  | {
      type: 'list item.add'
      listItem: string
    }
  | {
      type: 'list item.remove'
      listItem: string
    }
  | {
      type: 'list item.toggle'
      listItem: string
    }
  | {
      type: 'move.block'
      at: [KeyedSegment]
      to: [KeyedSegment]
    }
  | {
      type: 'move.block down'
      at: [KeyedSegment]
    }
  | {
      type: 'move.block up'
      at: [KeyedSegment]
    }
  | {
      type: 'select'
      selection: EditorSelection
    }
  | {
      type: 'select.previous block'
      select?: 'start' | 'end'
    }
  | {
      type: 'select.next block'
      select?: 'start' | 'end'
    }
  | {
      type: 'style.add'
      style: string
    }
  | {
      type: 'style.remove'
      style: string
    }
  | {
      type: 'style.toggle'
      style: string
    }
  | {
      type: 'deserialization.success'
      mimeType: MIMEType_2
      data: Array<PortableTextBlock>
      originEvent:
        | PickFromUnion_2<
            NativeBehaviorEvent,
            'type',
            'drag.drop' | 'clipboard.paste'
          >
        | InputBehaviorEvent_2
    }
  | {
      type: 'deserialization.failure'
      mimeType: MIMEType_2
      reason: string
      originEvent:
        | PickFromUnion_2<
            NativeBehaviorEvent,
            'type',
            'drag.drop' | 'clipboard.paste'
          >
        | InputBehaviorEvent_2
    }
  | {
      type: 'serialization.success'
      mimeType: MIMEType_2
      data: string
      originEvent: PickFromUnion_2<
        NativeBehaviorEvent,
        'type',
        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
      >
    }
  | {
      type: 'serialization.failure'
      mimeType: MIMEType_2
      reason: string
      originEvent: PickFromUnion_2<
        NativeBehaviorEvent,
        'type',
        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
      >
    }
  | PatchEvent
  | InternalPatchEvent
  | MutationEvent
  | ExternalSyntheticBehaviorEvent
  | PatchesEvent
  | {
      type: 'blurred'
      event: FocusEvent_2<HTMLDivElement, Element>
    }
  | {
      type: 'done loading'
    }
  | {
      type: 'editable'
    }
  | {
      type: 'error'
      name: string
      description: string
      data: unknown
    }
  | {
      type: 'focused'
      event: FocusEvent_2<HTMLDivElement, Element>
    }
  | {
      type: 'invalid value'
      resolution: InvalidValueResolution | null
      value: Array<PortableTextBlock> | undefined
    }
  | {
      type: 'loading'
    }
  | {
      type: 'read only'
    }
  | {
      type: 'ready'
    }
  | {
      type: 'selection'
      selection: EditorSelection
    }
  | {
      type: 'value changed'
      value: Array<PortableTextBlock> | undefined
    }
  | UnsetEvent
  | {
      type: 'custom.*'
      event: CustomBehaviorEvent
    },
  MetaObject,
  {
    readonly id: 'editor'
    readonly context: ({
      input,
    }: {
      spawn: {
        <TSrc extends never>(
          logic: TSrc,
          ...[options]: never
        ): ActorRefFromLogic<never>
        <TLogic extends AnyActorLogic>(
          src: TLogic,
          ...[options]: ConditionalRequired<
            [
              options?:
                | ({
                    id?: never
                    systemId?: string
                    input?: InputFrom<TLogic> | undefined
                    syncSnapshot?: boolean
                  } & {[K in RequiredLogicInput<TLogic>]: unknown})
                | undefined,
            ],
            IsNotNever<RequiredLogicInput<TLogic>>
          >
        ): ActorRefFromLogic<TLogic>
      }
      input: {
        behaviors?: Array<Behavior>
        converters?: Array<Converter>
        keyGenerator: () => string
        maxBlocks?: number
        readOnly?: boolean
        schema: EditorSchema
        value?: Array<PortableTextBlock>
      }
      self: ActorRef<
        MachineSnapshot<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          Record<string, AnyActorRef | undefined>,
          StateValue,
          string,
          unknown,
          any,
          any
        >,
        | {
            type: 'annotation.add'
            annotation: {
              name: string
              value: {
                [prop: string]: unknown
              }
            }
          }
        | {
            type: 'annotation.remove'
            annotation: {
              name: string
            }
          }
        | {
            type: 'annotation.toggle'
            annotation: {
              name: string
              value: {
                [prop: string]: unknown
              }
            }
          }
        | {
            type: 'block.set'
            at: [KeyedSegment]
            props: Record<string, unknown>
          }
        | {
            type: 'block.unset'
            at: [KeyedSegment]
            props: Array<string>
          }
        | {
            type: 'blur'
          }
        | {
            type: 'data transfer.set'
            data: string
            dataTransfer: DataTransfer
            mimeType: MIMEType_2
          }
        | {
            type: 'decorator.add'
            decorator: string
            offsets?: {
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          }
        | {
            type: 'decorator.remove'
            decorator: string
          }
        | {
            type: 'decorator.toggle'
            decorator: string
            offsets?: {
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          }
        | {
            type: 'delete'
            selection: NonNullable<EditorSelection>
          }
        | {
            type: 'delete.backward'
            unit: TextUnit
          }
        | {
            type: 'delete.block'
            at: [KeyedSegment]
          }
        | {
            type: 'delete.forward'
            unit: TextUnit
          }
        | {
            type: 'delete.text'
            anchor: BlockOffset_2
            focus: BlockOffset_2
          }
        | {
            type: 'focus'
          }
        | {
            type: 'history.redo'
          }
        | {
            type: 'history.undo'
          }
        | {
            type: 'insert.blocks'
            blocks: Array<PortableTextBlock>
            placement: InsertPlacement_2
          }
        | {
            type: 'insert.inline object'
            inlineObject: {
              name: string
              value?: {
                [prop: string]: unknown
              }
            }
          }
        | {
            type: 'insert.break'
          }
        | {
            type: 'insert.soft break'
          }
        | {
            type: 'insert.block'
            block: BlockWithOptionalKey_2
            placement: InsertPlacement_2
            select?: 'start' | 'end' | 'none'
          }
        | {
            type: 'insert.span'
            text: string
            annotations?: Array<{
              name: string
              value: {
                [prop: string]: unknown
              }
            }>
            decorators?: Array<string>
          }
        | {
            type: 'insert.text'
            text: string
          }
        | {
            type: 'list item.add'
            listItem: string
          }
        | {
            type: 'list item.remove'
            listItem: string
          }
        | {
            type: 'list item.toggle'
            listItem: string
          }
        | {
            type: 'move.block'
            at: [KeyedSegment]
            to: [KeyedSegment]
          }
        | {
            type: 'move.block down'
            at: [KeyedSegment]
          }
        | {
            type: 'move.block up'
            at: [KeyedSegment]
          }
        | {
            type: 'select'
            selection: EditorSelection
          }
        | {
            type: 'select.previous block'
            select?: 'start' | 'end'
          }
        | {
            type: 'select.next block'
            select?: 'start' | 'end'
          }
        | {
            type: 'style.add'
            style: string
          }
        | {
            type: 'style.remove'
            style: string
          }
        | {
            type: 'style.toggle'
            style: string
          }
        | {
            type: 'deserialization.success'
            mimeType: MIMEType_2
            data: Array<PortableTextBlock>
            originEvent:
              | PickFromUnion_2<
                  NativeBehaviorEvent,
                  'type',
                  'drag.drop' | 'clipboard.paste'
                >
              | InputBehaviorEvent_2
          }
        | {
            type: 'deserialization.failure'
            mimeType: MIMEType_2
            reason: string
            originEvent:
              | PickFromUnion_2<
                  NativeBehaviorEvent,
                  'type',
                  'drag.drop' | 'clipboard.paste'
                >
              | InputBehaviorEvent_2
          }
        | {
            type: 'serialization.success'
            mimeType: MIMEType_2
            data: string
            originEvent: PickFromUnion_2<
              NativeBehaviorEvent,
              'type',
              'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
            >
          }
        | {
            type: 'serialization.failure'
            mimeType: MIMEType_2
            reason: string
            originEvent: PickFromUnion_2<
              NativeBehaviorEvent,
              'type',
              'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
            >
          }
        | InternalPatchEvent
        | MutationEvent
        | {
            type: 'normalizing'
          }
        | {
            type: 'done normalizing'
          }
        | {
            type: 'done syncing initial value'
          }
        | {
            type: 'behavior event'
            behaviorEvent:
              | InternalBehaviorEvent
              | SyntheticBehaviorEvent
              | NativeBehaviorEvent
            editor: PortableTextSlateEditor
            defaultActionCallback?: () => void
            nativeEvent?: {
              preventDefault: () => void
            }
          }
        | {
            type: 'custom behavior event'
            behaviorEvent: CustomBehaviorEvent
            editor: PortableTextSlateEditor
            nativeEvent?: {
              preventDefault: () => void
            }
          }
        | CustomBehaviorEvent
        | ExternalSyntheticBehaviorEvent
        | {
            type: 'add behavior'
            behavior: Behavior
          }
        | {
            type: 'remove behavior'
            behavior: Behavior
          }
        | {
            type: 'update readOnly'
            readOnly: boolean
          }
        | {
            type: 'update schema'
            schema: EditorSchema
          }
        | {
            type: 'update behaviors'
            behaviors: Array<Behavior>
          }
        | {
            type: 'update key generator'
            keyGenerator: () => string
          }
        | {
            type: 'update value'
            value: Array<PortableTextBlock> | undefined
          }
        | {
            type: 'update maxBlocks'
            maxBlocks: number | undefined
          }
        | PatchesEvent
        | {
            type: 'notify.patch'
            patch: Patch
          }
        | {
            type: 'notify.mutation'
            patches: Array<Patch>
            snapshot: Array<PortableTextBlock> | undefined
            value: Array<PortableTextBlock> | undefined
          }
        | {
            type: 'notify.blurred'
            event: FocusEvent_2<HTMLDivElement, Element>
          }
        | {
            type: 'notify.done loading'
          }
        | {
            type: 'notify.editable'
          }
        | {
            type: 'notify.error'
            name: string
            description: string
            data: unknown
          }
        | {
            type: 'notify.focused'
            event: FocusEvent_2<HTMLDivElement, Element>
          }
        | {
            type: 'notify.invalid value'
            resolution: InvalidValueResolution | null
            value: Array<PortableTextBlock> | undefined
          }
        | {
            type: 'notify.loading'
          }
        | {
            type: 'notify.read only'
          }
        | {
            type: 'notify.ready'
          }
        | {
            type: 'notify.selection'
            selection: EditorSelection
          }
        | {
            type: 'notify.value changed'
            value: Array<PortableTextBlock> | undefined
          }
        | {
            type: 'notify.unset'
            previousValue: Array<PortableTextBlock>
          }
        | {
            type: 'dragstart'
            origin: Pick<EventPosition, 'selection'>
            ghost?: HTMLElement
          }
        | {
            type: 'dragend'
          }
        | {
            type: 'drop'
          },
        AnyEventObject
      >
    }) => {
      behaviors: Set<Behavior>
      converters: Set<Converter>
      keyGenerator: () => string
      pendingEvents: never[]
      schema: PortableTextMemberSchemaTypes_2
      selection: null
      initialReadOnly: boolean
      maxBlocks: number | undefined
      value: PortableTextBlock[] | undefined
    }
    readonly on: {
      readonly 'notify.blurred': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'notify.blurred'
            event: FocusEvent_2<HTMLDivElement, Element>
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'notify.done loading': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'notify.done loading'
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'notify.error': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'notify.error'
            name: string
            description: string
            data: unknown
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'notify.invalid value': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'notify.invalid value'
            resolution: InvalidValueResolution | null
            value: Array<PortableTextBlock> | undefined
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'notify.focused': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'notify.focused'
            event: FocusEvent_2<HTMLDivElement, Element>
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'notify.selection': {
        readonly actions: readonly [
          ActionFunction<
            {
              behaviors: Set<Behavior>
              converters: Set<Converter>
              keyGenerator: () => string
              pendingEvents: Array<InternalPatchEvent | MutationEvent>
              schema: EditorSchema
              initialReadOnly: boolean
              maxBlocks: number | undefined
              selection: EditorSelection
              value: Array<PortableTextBlock> | undefined
              internalDrag?: {
                ghost?: HTMLElement
                origin: Pick<EventPosition, 'selection'>
              }
            },
            {
              type: 'notify.selection'
              selection: EditorSelection
            },
            | {
                type: 'annotation.add'
                annotation: {
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'annotation.remove'
                annotation: {
                  name: string
                }
              }
            | {
                type: 'annotation.toggle'
                annotation: {
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'block.set'
                at: [KeyedSegment]
                props: Record<string, unknown>
              }
            | {
                type: 'block.unset'
                at: [KeyedSegment]
                props: Array<string>
              }
            | {
                type: 'blur'
              }
            | {
                type: 'data transfer.set'
                data: string
                dataTransfer: DataTransfer
                mimeType: MIMEType_2
              }
            | {
                type: 'decorator.add'
                decorator: string
                offsets?: {
                  anchor: BlockOffset_2
                  focus: BlockOffset_2
                }
              }
            | {
                type: 'decorator.remove'
                decorator: string
              }
            | {
                type: 'decorator.toggle'
                decorator: string
                offsets?: {
                  anchor: BlockOffset_2
                  focus: BlockOffset_2
                }
              }
            | {
                type: 'delete'
                selection: NonNullable<EditorSelection>
              }
            | {
                type: 'delete.backward'
                unit: TextUnit
              }
            | {
                type: 'delete.block'
                at: [KeyedSegment]
              }
            | {
                type: 'delete.forward'
                unit: TextUnit
              }
            | {
                type: 'delete.text'
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            | {
                type: 'focus'
              }
            | {
                type: 'history.redo'
              }
            | {
                type: 'history.undo'
              }
            | {
                type: 'insert.blocks'
                blocks: Array<PortableTextBlock>
                placement: InsertPlacement_2
              }
            | {
                type: 'insert.inline object'
                inlineObject: {
                  name: string
                  value?: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'insert.break'
              }
            | {
                type: 'insert.soft break'
              }
            | {
                type: 'insert.block'
                block: BlockWithOptionalKey_2
                placement: InsertPlacement_2
                select?: 'start' | 'end' | 'none'
              }
            | {
                type: 'insert.span'
                text: string
                annotations?: Array<{
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }>
                decorators?: Array<string>
              }
            | {
                type: 'insert.text'
                text: string
              }
            | {
                type: 'list item.add'
                listItem: string
              }
            | {
                type: 'list item.remove'
                listItem: string
              }
            | {
                type: 'list item.toggle'
                listItem: string
              }
            | {
                type: 'move.block'
                at: [KeyedSegment]
                to: [KeyedSegment]
              }
            | {
                type: 'move.block down'
                at: [KeyedSegment]
              }
            | {
                type: 'move.block up'
                at: [KeyedSegment]
              }
            | {
                type: 'select'
                selection: EditorSelection
              }
            | {
                type: 'select.previous block'
                select?: 'start' | 'end'
              }
            | {
                type: 'select.next block'
                select?: 'start' | 'end'
              }
            | {
                type: 'style.add'
                style: string
              }
            | {
                type: 'style.remove'
                style: string
              }
            | {
                type: 'style.toggle'
                style: string
              }
            | {
                type: 'deserialization.success'
                mimeType: MIMEType_2
                data: Array<PortableTextBlock>
                originEvent:
                  | PickFromUnion_2<
                      NativeBehaviorEvent,
                      'type',
                      'drag.drop' | 'clipboard.paste'
                    >
                  | InputBehaviorEvent_2
              }
            | {
                type: 'deserialization.failure'
                mimeType: MIMEType_2
                reason: string
                originEvent:
                  | PickFromUnion_2<
                      NativeBehaviorEvent,
                      'type',
                      'drag.drop' | 'clipboard.paste'
                    >
                  | InputBehaviorEvent_2
              }
            | {
                type: 'serialization.success'
                mimeType: MIMEType_2
                data: string
                originEvent: PickFromUnion_2<
                  NativeBehaviorEvent,
                  'type',
                  'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                >
              }
            | {
                type: 'serialization.failure'
                mimeType: MIMEType_2
                reason: string
                originEvent: PickFromUnion_2<
                  NativeBehaviorEvent,
                  'type',
                  'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                >
              }
            | InternalPatchEvent
            | MutationEvent
            | {
                type: 'normalizing'
              }
            | {
                type: 'done normalizing'
              }
            | {
                type: 'done syncing initial value'
              }
            | {
                type: 'behavior event'
                behaviorEvent:
                  | InternalBehaviorEvent
                  | SyntheticBehaviorEvent
                  | NativeBehaviorEvent
                editor: PortableTextSlateEditor
                defaultActionCallback?: () => void
                nativeEvent?: {
                  preventDefault: () => void
                }
              }
            | {
                type: 'custom behavior event'
                behaviorEvent: CustomBehaviorEvent
                editor: PortableTextSlateEditor
                nativeEvent?: {
                  preventDefault: () => void
                }
              }
            | CustomBehaviorEvent
            | ExternalSyntheticBehaviorEvent
            | {
                type: 'add behavior'
                behavior: Behavior
              }
            | {
                type: 'remove behavior'
                behavior: Behavior
              }
            | {
                type: 'update readOnly'
                readOnly: boolean
              }
            | {
                type: 'update schema'
                schema: EditorSchema
              }
            | {
                type: 'update behaviors'
                behaviors: Array<Behavior>
              }
            | {
                type: 'update key generator'
                keyGenerator: () => string
              }
            | {
                type: 'update value'
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'update maxBlocks'
                maxBlocks: number | undefined
              }
            | PatchesEvent
            | {
                type: 'notify.patch'
                patch: Patch
              }
            | {
                type: 'notify.mutation'
                patches: Array<Patch>
                snapshot: Array<PortableTextBlock> | undefined
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'notify.blurred'
                event: FocusEvent_2<HTMLDivElement, Element>
              }
            | {
                type: 'notify.done loading'
              }
            | {
                type: 'notify.editable'
              }
            | {
                type: 'notify.error'
                name: string
                description: string
                data: unknown
              }
            | {
                type: 'notify.focused'
                event: FocusEvent_2<HTMLDivElement, Element>
              }
            | {
                type: 'notify.invalid value'
                resolution: InvalidValueResolution | null
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'notify.loading'
              }
            | {
                type: 'notify.read only'
              }
            | {
                type: 'notify.ready'
              }
            | {
                type: 'notify.selection'
                selection: EditorSelection
              }
            | {
                type: 'notify.value changed'
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'notify.unset'
                previousValue: Array<PortableTextBlock>
              }
            | {
                type: 'dragstart'
                origin: Pick<EventPosition, 'selection'>
                ghost?: HTMLElement
              }
            | {
                type: 'dragend'
              }
            | {
                type: 'drop'
              },
            undefined,
            never,
            never,
            never,
            never,
            never
          >,
          ActionFunction<
            {
              behaviors: Set<Behavior>
              converters: Set<Converter>
              keyGenerator: () => string
              pendingEvents: Array<InternalPatchEvent | MutationEvent>
              schema: EditorSchema
              initialReadOnly: boolean
              maxBlocks: number | undefined
              selection: EditorSelection
              value: Array<PortableTextBlock> | undefined
              internalDrag?: {
                ghost?: HTMLElement
                origin: Pick<EventPosition, 'selection'>
              }
            },
            {
              type: 'notify.selection'
              selection: EditorSelection
            },
            | {
                type: 'annotation.add'
                annotation: {
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'annotation.remove'
                annotation: {
                  name: string
                }
              }
            | {
                type: 'annotation.toggle'
                annotation: {
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'block.set'
                at: [KeyedSegment]
                props: Record<string, unknown>
              }
            | {
                type: 'block.unset'
                at: [KeyedSegment]
                props: Array<string>
              }
            | {
                type: 'blur'
              }
            | {
                type: 'data transfer.set'
                data: string
                dataTransfer: DataTransfer
                mimeType: MIMEType_2
              }
            | {
                type: 'decorator.add'
                decorator: string
                offsets?: {
                  anchor: BlockOffset_2
                  focus: BlockOffset_2
                }
              }
            | {
                type: 'decorator.remove'
                decorator: string
              }
            | {
                type: 'decorator.toggle'
                decorator: string
                offsets?: {
                  anchor: BlockOffset_2
                  focus: BlockOffset_2
                }
              }
            | {
                type: 'delete'
                selection: NonNullable<EditorSelection>
              }
            | {
                type: 'delete.backward'
                unit: TextUnit
              }
            | {
                type: 'delete.block'
                at: [KeyedSegment]
              }
            | {
                type: 'delete.forward'
                unit: TextUnit
              }
            | {
                type: 'delete.text'
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            | {
                type: 'focus'
              }
            | {
                type: 'history.redo'
              }
            | {
                type: 'history.undo'
              }
            | {
                type: 'insert.blocks'
                blocks: Array<PortableTextBlock>
                placement: InsertPlacement_2
              }
            | {
                type: 'insert.inline object'
                inlineObject: {
                  name: string
                  value?: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'insert.break'
              }
            | {
                type: 'insert.soft break'
              }
            | {
                type: 'insert.block'
                block: BlockWithOptionalKey_2
                placement: InsertPlacement_2
                select?: 'start' | 'end' | 'none'
              }
            | {
                type: 'insert.span'
                text: string
                annotations?: Array<{
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }>
                decorators?: Array<string>
              }
            | {
                type: 'insert.text'
                text: string
              }
            | {
                type: 'list item.add'
                listItem: string
              }
            | {
                type: 'list item.remove'
                listItem: string
              }
            | {
                type: 'list item.toggle'
                listItem: string
              }
            | {
                type: 'move.block'
                at: [KeyedSegment]
                to: [KeyedSegment]
              }
            | {
                type: 'move.block down'
                at: [KeyedSegment]
              }
            | {
                type: 'move.block up'
                at: [KeyedSegment]
              }
            | {
                type: 'select'
                selection: EditorSelection
              }
            | {
                type: 'select.previous block'
                select?: 'start' | 'end'
              }
            | {
                type: 'select.next block'
                select?: 'start' | 'end'
              }
            | {
                type: 'style.add'
                style: string
              }
            | {
                type: 'style.remove'
                style: string
              }
            | {
                type: 'style.toggle'
                style: string
              }
            | {
                type: 'deserialization.success'
                mimeType: MIMEType_2
                data: Array<PortableTextBlock>
                originEvent:
                  | PickFromUnion_2<
                      NativeBehaviorEvent,
                      'type',
                      'drag.drop' | 'clipboard.paste'
                    >
                  | InputBehaviorEvent_2
              }
            | {
                type: 'deserialization.failure'
                mimeType: MIMEType_2
                reason: string
                originEvent:
                  | PickFromUnion_2<
                      NativeBehaviorEvent,
                      'type',
                      'drag.drop' | 'clipboard.paste'
                    >
                  | InputBehaviorEvent_2
              }
            | {
                type: 'serialization.success'
                mimeType: MIMEType_2
                data: string
                originEvent: PickFromUnion_2<
                  NativeBehaviorEvent,
                  'type',
                  'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                >
              }
            | {
                type: 'serialization.failure'
                mimeType: MIMEType_2
                reason: string
                originEvent: PickFromUnion_2<
                  NativeBehaviorEvent,
                  'type',
                  'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                >
              }
            | InternalPatchEvent
            | MutationEvent
            | {
                type: 'normalizing'
              }
            | {
                type: 'done normalizing'
              }
            | {
                type: 'done syncing initial value'
              }
            | {
                type: 'behavior event'
                behaviorEvent:
                  | InternalBehaviorEvent
                  | SyntheticBehaviorEvent
                  | NativeBehaviorEvent
                editor: PortableTextSlateEditor
                defaultActionCallback?: () => void
                nativeEvent?: {
                  preventDefault: () => void
                }
              }
            | {
                type: 'custom behavior event'
                behaviorEvent: CustomBehaviorEvent
                editor: PortableTextSlateEditor
                nativeEvent?: {
                  preventDefault: () => void
                }
              }
            | CustomBehaviorEvent
            | ExternalSyntheticBehaviorEvent
            | {
                type: 'add behavior'
                behavior: Behavior
              }
            | {
                type: 'remove behavior'
                behavior: Behavior
              }
            | {
                type: 'update readOnly'
                readOnly: boolean
              }
            | {
                type: 'update schema'
                schema: EditorSchema
              }
            | {
                type: 'update behaviors'
                behaviors: Array<Behavior>
              }
            | {
                type: 'update key generator'
                keyGenerator: () => string
              }
            | {
                type: 'update value'
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'update maxBlocks'
                maxBlocks: number | undefined
              }
            | PatchesEvent
            | {
                type: 'notify.patch'
                patch: Patch
              }
            | {
                type: 'notify.mutation'
                patches: Array<Patch>
                snapshot: Array<PortableTextBlock> | undefined
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'notify.blurred'
                event: FocusEvent_2<HTMLDivElement, Element>
              }
            | {
                type: 'notify.done loading'
              }
            | {
                type: 'notify.editable'
              }
            | {
                type: 'notify.error'
                name: string
                description: string
                data: unknown
              }
            | {
                type: 'notify.focused'
                event: FocusEvent_2<HTMLDivElement, Element>
              }
            | {
                type: 'notify.invalid value'
                resolution: InvalidValueResolution | null
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'notify.loading'
              }
            | {
                type: 'notify.read only'
              }
            | {
                type: 'notify.ready'
              }
            | {
                type: 'notify.selection'
                selection: EditorSelection
              }
            | {
                type: 'notify.value changed'
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'notify.unset'
                previousValue: Array<PortableTextBlock>
              }
            | {
                type: 'dragstart'
                origin: Pick<EventPosition, 'selection'>
                ghost?: HTMLElement
              }
            | {
                type: 'dragend'
              }
            | {
                type: 'drop'
              },
            undefined,
            never,
            never,
            never,
            never,
            | {
                type: 'annotation.add'
                annotation: {
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'annotation.remove'
                annotation: {
                  name: string
                }
              }
            | {
                type: 'annotation.toggle'
                annotation: {
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'block.set'
                at: [KeyedSegment]
                props: Record<string, unknown>
              }
            | {
                type: 'block.unset'
                at: [KeyedSegment]
                props: Array<string>
              }
            | {
                type: 'blur'
              }
            | {
                type: 'data transfer.set'
                data: string
                dataTransfer: DataTransfer
                mimeType: MIMEType_2
              }
            | {
                type: 'decorator.add'
                decorator: string
                offsets?: {
                  anchor: BlockOffset_2
                  focus: BlockOffset_2
                }
              }
            | {
                type: 'decorator.remove'
                decorator: string
              }
            | {
                type: 'decorator.toggle'
                decorator: string
                offsets?: {
                  anchor: BlockOffset_2
                  focus: BlockOffset_2
                }
              }
            | {
                type: 'delete'
                selection: NonNullable<EditorSelection>
              }
            | {
                type: 'delete.backward'
                unit: TextUnit
              }
            | {
                type: 'delete.block'
                at: [KeyedSegment]
              }
            | {
                type: 'delete.forward'
                unit: TextUnit
              }
            | {
                type: 'delete.text'
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            | {
                type: 'focus'
              }
            | {
                type: 'history.redo'
              }
            | {
                type: 'history.undo'
              }
            | {
                type: 'insert.blocks'
                blocks: Array<PortableTextBlock>
                placement: InsertPlacement_2
              }
            | {
                type: 'insert.inline object'
                inlineObject: {
                  name: string
                  value?: {
                    [prop: string]: unknown
                  }
                }
              }
            | {
                type: 'insert.break'
              }
            | {
                type: 'insert.soft break'
              }
            | {
                type: 'insert.block'
                block: BlockWithOptionalKey_2
                placement: InsertPlacement_2
                select?: 'start' | 'end' | 'none'
              }
            | {
                type: 'insert.span'
                text: string
                annotations?: Array<{
                  name: string
                  value: {
                    [prop: string]: unknown
                  }
                }>
                decorators?: Array<string>
              }
            | {
                type: 'insert.text'
                text: string
              }
            | {
                type: 'list item.add'
                listItem: string
              }
            | {
                type: 'list item.remove'
                listItem: string
              }
            | {
                type: 'list item.toggle'
                listItem: string
              }
            | {
                type: 'move.block'
                at: [KeyedSegment]
                to: [KeyedSegment]
              }
            | {
                type: 'move.block down'
                at: [KeyedSegment]
              }
            | {
                type: 'move.block up'
                at: [KeyedSegment]
              }
            | {
                type: 'select'
                selection: EditorSelection
              }
            | {
                type: 'select.previous block'
                select?: 'start' | 'end'
              }
            | {
                type: 'select.next block'
                select?: 'start' | 'end'
              }
            | {
                type: 'style.add'
                style: string
              }
            | {
                type: 'style.remove'
                style: string
              }
            | {
                type: 'style.toggle'
                style: string
              }
            | {
                type: 'deserialization.success'
                mimeType: MIMEType_2
                data: Array<PortableTextBlock>
                originEvent:
                  | PickFromUnion_2<
                      NativeBehaviorEvent,
                      'type',
                      'drag.drop' | 'clipboard.paste'
                    >
                  | InputBehaviorEvent_2
              }
            | {
                type: 'deserialization.failure'
                mimeType: MIMEType_2
                reason: string
                originEvent:
                  | PickFromUnion_2<
                      NativeBehaviorEvent,
                      'type',
                      'drag.drop' | 'clipboard.paste'
                    >
                  | InputBehaviorEvent_2
              }
            | {
                type: 'serialization.success'
                mimeType: MIMEType_2
                data: string
                originEvent: PickFromUnion_2<
                  NativeBehaviorEvent,
                  'type',
                  'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                >
              }
            | {
                type: 'serialization.failure'
                mimeType: MIMEType_2
                reason: string
                originEvent: PickFromUnion_2<
                  NativeBehaviorEvent,
                  'type',
                  'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                >
              }
            | PatchEvent
            | InternalPatchEvent
            | MutationEvent
            | ExternalSyntheticBehaviorEvent
            | PatchesEvent
            | {
                type: 'blurred'
                event: FocusEvent_2<HTMLDivElement, Element>
              }
            | {
                type: 'done loading'
              }
            | {
                type: 'editable'
              }
            | {
                type: 'error'
                name: string
                description: string
                data: unknown
              }
            | {
                type: 'focused'
                event: FocusEvent_2<HTMLDivElement, Element>
              }
            | {
                type: 'invalid value'
                resolution: InvalidValueResolution | null
                value: Array<PortableTextBlock> | undefined
              }
            | {
                type: 'loading'
              }
            | {
                type: 'read only'
              }
            | {
                type: 'ready'
              }
            | {
                type: 'selection'
                selection: EditorSelection
              }
            | {
                type: 'value changed'
                value: Array<PortableTextBlock> | undefined
              }
            | UnsetEvent
            | {
                type: 'custom.*'
                event: CustomBehaviorEvent
              }
          >,
        ]
      }
      readonly 'notify.unset': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'notify.unset'
            previousValue: Array<PortableTextBlock>
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'notify.loading': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'notify.loading'
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'notify.value changed': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'notify.value changed'
            value: Array<PortableTextBlock> | undefined
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'add behavior': {
        readonly actions: 'add behavior to context'
      }
      readonly 'remove behavior': {
        readonly actions: 'remove behavior from context'
      }
      readonly 'patches': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          PatchesEvent,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | PatchEvent
          | InternalPatchEvent
          | MutationEvent
          | ExternalSyntheticBehaviorEvent
          | PatchesEvent
          | {
              type: 'blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'done loading'
            }
          | {
              type: 'editable'
            }
          | {
              type: 'error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'loading'
            }
          | {
              type: 'read only'
            }
          | {
              type: 'ready'
            }
          | {
              type: 'selection'
              selection: EditorSelection
            }
          | {
              type: 'value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | UnsetEvent
          | {
              type: 'custom.*'
              event: CustomBehaviorEvent
            }
        >
      }
      readonly 'update behaviors': {
        readonly actions: 'assign behaviors'
      }
      readonly 'update key generator': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'update key generator'
            keyGenerator: () => string
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          never
        >
      }
      readonly 'update schema': {
        readonly actions: 'assign schema'
      }
      readonly 'update value': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'update value'
            value: Array<PortableTextBlock> | undefined
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          never
        >
      }
      readonly 'update maxBlocks': {
        readonly actions: ActionFunction<
          {
            behaviors: Set<Behavior>
            converters: Set<Converter>
            keyGenerator: () => string
            pendingEvents: Array<InternalPatchEvent | MutationEvent>
            schema: EditorSchema
            initialReadOnly: boolean
            maxBlocks: number | undefined
            selection: EditorSelection
            value: Array<PortableTextBlock> | undefined
            internalDrag?: {
              ghost?: HTMLElement
              origin: Pick<EventPosition, 'selection'>
            }
          },
          {
            type: 'update maxBlocks'
            maxBlocks: number | undefined
          },
          | {
              type: 'annotation.add'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'annotation.remove'
              annotation: {
                name: string
              }
            }
          | {
              type: 'annotation.toggle'
              annotation: {
                name: string
                value: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'block.set'
              at: [KeyedSegment]
              props: Record<string, unknown>
            }
          | {
              type: 'block.unset'
              at: [KeyedSegment]
              props: Array<string>
            }
          | {
              type: 'blur'
            }
          | {
              type: 'data transfer.set'
              data: string
              dataTransfer: DataTransfer
              mimeType: MIMEType_2
            }
          | {
              type: 'decorator.add'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'decorator.remove'
              decorator: string
            }
          | {
              type: 'decorator.toggle'
              decorator: string
              offsets?: {
                anchor: BlockOffset_2
                focus: BlockOffset_2
              }
            }
          | {
              type: 'delete'
              selection: NonNullable<EditorSelection>
            }
          | {
              type: 'delete.backward'
              unit: TextUnit
            }
          | {
              type: 'delete.block'
              at: [KeyedSegment]
            }
          | {
              type: 'delete.forward'
              unit: TextUnit
            }
          | {
              type: 'delete.text'
              anchor: BlockOffset_2
              focus: BlockOffset_2
            }
          | {
              type: 'focus'
            }
          | {
              type: 'history.redo'
            }
          | {
              type: 'history.undo'
            }
          | {
              type: 'insert.blocks'
              blocks: Array<PortableTextBlock>
              placement: InsertPlacement_2
            }
          | {
              type: 'insert.inline object'
              inlineObject: {
                name: string
                value?: {
                  [prop: string]: unknown
                }
              }
            }
          | {
              type: 'insert.break'
            }
          | {
              type: 'insert.soft break'
            }
          | {
              type: 'insert.block'
              block: BlockWithOptionalKey_2
              placement: InsertPlacement_2
              select?: 'start' | 'end' | 'none'
            }
          | {
              type: 'insert.span'
              text: string
              annotations?: Array<{
                name: string
                value: {
                  [prop: string]: unknown
                }
              }>
              decorators?: Array<string>
            }
          | {
              type: 'insert.text'
              text: string
            }
          | {
              type: 'list item.add'
              listItem: string
            }
          | {
              type: 'list item.remove'
              listItem: string
            }
          | {
              type: 'list item.toggle'
              listItem: string
            }
          | {
              type: 'move.block'
              at: [KeyedSegment]
              to: [KeyedSegment]
            }
          | {
              type: 'move.block down'
              at: [KeyedSegment]
            }
          | {
              type: 'move.block up'
              at: [KeyedSegment]
            }
          | {
              type: 'select'
              selection: EditorSelection
            }
          | {
              type: 'select.previous block'
              select?: 'start' | 'end'
            }
          | {
              type: 'select.next block'
              select?: 'start' | 'end'
            }
          | {
              type: 'style.add'
              style: string
            }
          | {
              type: 'style.remove'
              style: string
            }
          | {
              type: 'style.toggle'
              style: string
            }
          | {
              type: 'deserialization.success'
              mimeType: MIMEType_2
              data: Array<PortableTextBlock>
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'deserialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent:
                | PickFromUnion_2<
                    NativeBehaviorEvent,
                    'type',
                    'drag.drop' | 'clipboard.paste'
                  >
                | InputBehaviorEvent_2
            }
          | {
              type: 'serialization.success'
              mimeType: MIMEType_2
              data: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | {
              type: 'serialization.failure'
              mimeType: MIMEType_2
              reason: string
              originEvent: PickFromUnion_2<
                NativeBehaviorEvent,
                'type',
                'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
              >
            }
          | InternalPatchEvent
          | MutationEvent
          | {
              type: 'normalizing'
            }
          | {
              type: 'done normalizing'
            }
          | {
              type: 'done syncing initial value'
            }
          | {
              type: 'behavior event'
              behaviorEvent:
                | InternalBehaviorEvent
                | SyntheticBehaviorEvent
                | NativeBehaviorEvent
              editor: PortableTextSlateEditor
              defaultActionCallback?: () => void
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | {
              type: 'custom behavior event'
              behaviorEvent: CustomBehaviorEvent
              editor: PortableTextSlateEditor
              nativeEvent?: {
                preventDefault: () => void
              }
            }
          | CustomBehaviorEvent
          | ExternalSyntheticBehaviorEvent
          | {
              type: 'add behavior'
              behavior: Behavior
            }
          | {
              type: 'remove behavior'
              behavior: Behavior
            }
          | {
              type: 'update readOnly'
              readOnly: boolean
            }
          | {
              type: 'update schema'
              schema: EditorSchema
            }
          | {
              type: 'update behaviors'
              behaviors: Array<Behavior>
            }
          | {
              type: 'update key generator'
              keyGenerator: () => string
            }
          | {
              type: 'update value'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'update maxBlocks'
              maxBlocks: number | undefined
            }
          | PatchesEvent
          | {
              type: 'notify.patch'
              patch: Patch
            }
          | {
              type: 'notify.mutation'
              patches: Array<Patch>
              snapshot: Array<PortableTextBlock> | undefined
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.blurred'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.done loading'
            }
          | {
              type: 'notify.editable'
            }
          | {
              type: 'notify.error'
              name: string
              description: string
              data: unknown
            }
          | {
              type: 'notify.focused'
              event: FocusEvent_2<HTMLDivElement, Element>
            }
          | {
              type: 'notify.invalid value'
              resolution: InvalidValueResolution | null
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.loading'
            }
          | {
              type: 'notify.read only'
            }
          | {
              type: 'notify.ready'
            }
          | {
              type: 'notify.selection'
              selection: EditorSelection
            }
          | {
              type: 'notify.value changed'
              value: Array<PortableTextBlock> | undefined
            }
          | {
              type: 'notify.unset'
              previousValue: Array<PortableTextBlock>
            }
          | {
              type: 'dragstart'
              origin: Pick<EventPosition, 'selection'>
              ghost?: HTMLElement
            }
          | {
              type: 'dragend'
            }
          | {
              type: 'drop'
            },
          undefined,
          never,
          never,
          never,
          never,
          never
        >
      }
    }
    readonly type: 'parallel'
    readonly states: {
      readonly 'edit mode': {
        readonly initial: 'read only'
        readonly states: {
          readonly 'read only': {
            readonly initial: 'determine initial edit mode'
            readonly on: {
              readonly 'behavior event': {
                readonly actions: 'handle behavior event'
                readonly guard: ({
                  event,
                }: GuardArgs<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  {
                    type: 'behavior event'
                    behaviorEvent:
                      | InternalBehaviorEvent
                      | SyntheticBehaviorEvent
                      | NativeBehaviorEvent
                    editor: PortableTextSlateEditor
                    defaultActionCallback?: () => void
                    nativeEvent?: {
                      preventDefault: () => void
                    }
                  }
                >) => boolean
              }
            }
            readonly states: {
              readonly 'determine initial edit mode': {
                readonly on: {
                  readonly 'done syncing initial value': readonly [
                    {
                      readonly target: '#editor.edit mode.read only.read only'
                      readonly guard: ({
                        context,
                      }: GuardArgs<
                        {
                          behaviors: Set<Behavior>
                          converters: Set<Converter>
                          keyGenerator: () => string
                          pendingEvents: Array<
                            InternalPatchEvent | MutationEvent
                          >
                          schema: EditorSchema
                          initialReadOnly: boolean
                          maxBlocks: number | undefined
                          selection: EditorSelection
                          value: Array<PortableTextBlock> | undefined
                          internalDrag?: {
                            ghost?: HTMLElement
                            origin: Pick<EventPosition, 'selection'>
                          }
                        },
                        {
                          type: 'done syncing initial value'
                        }
                      >) => boolean
                    },
                    {
                      readonly target: '#editor.edit mode.editable'
                    },
                  ]
                }
              }
              readonly 'read only': {
                readonly on: {
                  readonly 'update readOnly': {
                    readonly guard: ({
                      event,
                    }: GuardArgs<
                      {
                        behaviors: Set<Behavior>
                        converters: Set<Converter>
                        keyGenerator: () => string
                        pendingEvents: Array<InternalPatchEvent | MutationEvent>
                        schema: EditorSchema
                        initialReadOnly: boolean
                        maxBlocks: number | undefined
                        selection: EditorSelection
                        value: Array<PortableTextBlock> | undefined
                        internalDrag?: {
                          ghost?: HTMLElement
                          origin: Pick<EventPosition, 'selection'>
                        }
                      },
                      {
                        type: 'update readOnly'
                        readOnly: boolean
                      }
                    >) => boolean
                    readonly target: '#editor.edit mode.editable'
                    readonly actions: readonly ['emit editable']
                  }
                }
              }
            }
          }
          readonly 'editable': {
            readonly on: {
              readonly 'update readOnly': {
                readonly guard: ({
                  event,
                }: GuardArgs<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  {
                    type: 'update readOnly'
                    readOnly: boolean
                  }
                >) => boolean
                readonly target: '#editor.edit mode.read only.read only'
                readonly actions: readonly ['emit read only']
              }
              readonly 'behavior event': {
                readonly actions: 'handle behavior event'
              }
              readonly 'custom behavior event': {
                readonly actions: 'handle behavior event'
              }
              readonly 'annotation.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'block.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'blur': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  {
                    type: 'blur'
                  },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'custom.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  {
                    type: `custom.${string}`
                  } & Record<string, unknown>,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'decorator.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'delete.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'focus': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  {
                    type: 'focus'
                  },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'history.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'insert.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | ExternalSyntheticBehaviorEvent,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'list item.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'move.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'select': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  {
                    type: 'select'
                    selection: EditorSelection
                  },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'select.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'style.*': {
                readonly actions: ActionFunction<
                  {
                    behaviors: Set<Behavior>
                    converters: Set<Converter>
                    keyGenerator: () => string
                    pendingEvents: Array<InternalPatchEvent | MutationEvent>
                    schema: EditorSchema
                    initialReadOnly: boolean
                    maxBlocks: number | undefined
                    selection: EditorSelection
                    value: Array<PortableTextBlock> | undefined
                    internalDrag?: {
                      ghost?: HTMLElement
                      origin: Pick<EventPosition, 'selection'>
                    }
                  },
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    },
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | InternalPatchEvent
                  | MutationEvent
                  | {
                      type: 'normalizing'
                    }
                  | {
                      type: 'done normalizing'
                    }
                  | {
                      type: 'done syncing initial value'
                    }
                  | {
                      type: 'behavior event'
                      behaviorEvent:
                        | InternalBehaviorEvent
                        | SyntheticBehaviorEvent
                        | NativeBehaviorEvent
                      editor: PortableTextSlateEditor
                      defaultActionCallback?: () => void
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | {
                      type: 'custom behavior event'
                      behaviorEvent: CustomBehaviorEvent
                      editor: PortableTextSlateEditor
                      nativeEvent?: {
                        preventDefault: () => void
                      }
                    }
                  | CustomBehaviorEvent
                  | ExternalSyntheticBehaviorEvent
                  | {
                      type: 'add behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'remove behavior'
                      behavior: Behavior
                    }
                  | {
                      type: 'update readOnly'
                      readOnly: boolean
                    }
                  | {
                      type: 'update schema'
                      schema: EditorSchema
                    }
                  | {
                      type: 'update behaviors'
                      behaviors: Array<Behavior>
                    }
                  | {
                      type: 'update key generator'
                      keyGenerator: () => string
                    }
                  | {
                      type: 'update value'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'update maxBlocks'
                      maxBlocks: number | undefined
                    }
                  | PatchesEvent
                  | {
                      type: 'notify.patch'
                      patch: Patch
                    }
                  | {
                      type: 'notify.mutation'
                      patches: Array<Patch>
                      snapshot: Array<PortableTextBlock> | undefined
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.done loading'
                    }
                  | {
                      type: 'notify.editable'
                    }
                  | {
                      type: 'notify.error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'notify.focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'notify.invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.loading'
                    }
                  | {
                      type: 'notify.read only'
                    }
                  | {
                      type: 'notify.ready'
                    }
                  | {
                      type: 'notify.selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'notify.value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'notify.unset'
                      previousValue: Array<PortableTextBlock>
                    }
                  | {
                      type: 'dragstart'
                      origin: Pick<EventPosition, 'selection'>
                      ghost?: HTMLElement
                    }
                  | {
                      type: 'dragend'
                    }
                  | {
                      type: 'drop'
                    },
                  undefined,
                  never,
                  never,
                  never,
                  never,
                  | {
                      type: 'annotation.add'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'annotation.remove'
                      annotation: {
                        name: string
                      }
                    }
                  | {
                      type: 'annotation.toggle'
                      annotation: {
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'block.set'
                      at: [KeyedSegment]
                      props: Record<string, unknown>
                    }
                  | {
                      type: 'block.unset'
                      at: [KeyedSegment]
                      props: Array<string>
                    }
                  | {
                      type: 'blur'
                    }
                  | {
                      type: 'data transfer.set'
                      data: string
                      dataTransfer: DataTransfer
                      mimeType: MIMEType_2
                    }
                  | {
                      type: 'decorator.add'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'decorator.remove'
                      decorator: string
                    }
                  | {
                      type: 'decorator.toggle'
                      decorator: string
                      offsets?: {
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    }
                  | {
                      type: 'delete'
                      selection: NonNullable<EditorSelection>
                    }
                  | {
                      type: 'delete.backward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.block'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'delete.forward'
                      unit: TextUnit
                    }
                  | {
                      type: 'delete.text'
                      anchor: BlockOffset_2
                      focus: BlockOffset_2
                    }
                  | {
                      type: 'focus'
                    }
                  | {
                      type: 'history.redo'
                    }
                  | {
                      type: 'history.undo'
                    }
                  | {
                      type: 'insert.blocks'
                      blocks: Array<PortableTextBlock>
                      placement: InsertPlacement_2
                    }
                  | {
                      type: 'insert.inline object'
                      inlineObject: {
                        name: string
                        value?: {
                          [prop: string]: unknown
                        }
                      }
                    }
                  | {
                      type: 'insert.break'
                    }
                  | {
                      type: 'insert.soft break'
                    }
                  | {
                      type: 'insert.block'
                      block: BlockWithOptionalKey_2
                      placement: InsertPlacement_2
                      select?: 'start' | 'end' | 'none'
                    }
                  | {
                      type: 'insert.span'
                      text: string
                      annotations?: Array<{
                        name: string
                        value: {
                          [prop: string]: unknown
                        }
                      }>
                      decorators?: Array<string>
                    }
                  | {
                      type: 'insert.text'
                      text: string
                    }
                  | {
                      type: 'list item.add'
                      listItem: string
                    }
                  | {
                      type: 'list item.remove'
                      listItem: string
                    }
                  | {
                      type: 'list item.toggle'
                      listItem: string
                    }
                  | {
                      type: 'move.block'
                      at: [KeyedSegment]
                      to: [KeyedSegment]
                    }
                  | {
                      type: 'move.block down'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'move.block up'
                      at: [KeyedSegment]
                    }
                  | {
                      type: 'select'
                      selection: EditorSelection
                    }
                  | {
                      type: 'select.previous block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'select.next block'
                      select?: 'start' | 'end'
                    }
                  | {
                      type: 'style.add'
                      style: string
                    }
                  | {
                      type: 'style.remove'
                      style: string
                    }
                  | {
                      type: 'style.toggle'
                      style: string
                    }
                  | {
                      type: 'deserialization.success'
                      mimeType: MIMEType_2
                      data: Array<PortableTextBlock>
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'deserialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent:
                        | PickFromUnion_2<
                            NativeBehaviorEvent,
                            'type',
                            'drag.drop' | 'clipboard.paste'
                          >
                        | InputBehaviorEvent_2
                    }
                  | {
                      type: 'serialization.success'
                      mimeType: MIMEType_2
                      data: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | {
                      type: 'serialization.failure'
                      mimeType: MIMEType_2
                      reason: string
                      originEvent: PickFromUnion_2<
                        NativeBehaviorEvent,
                        'type',
                        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                      >
                    }
                  | PatchEvent
                  | InternalPatchEvent
                  | MutationEvent
                  | ExternalSyntheticBehaviorEvent
                  | PatchesEvent
                  | {
                      type: 'blurred'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'done loading'
                    }
                  | {
                      type: 'editable'
                    }
                  | {
                      type: 'error'
                      name: string
                      description: string
                      data: unknown
                    }
                  | {
                      type: 'focused'
                      event: FocusEvent_2<HTMLDivElement, Element>
                    }
                  | {
                      type: 'invalid value'
                      resolution: InvalidValueResolution | null
                      value: Array<PortableTextBlock> | undefined
                    }
                  | {
                      type: 'loading'
                    }
                  | {
                      type: 'read only'
                    }
                  | {
                      type: 'ready'
                    }
                  | {
                      type: 'selection'
                      selection: EditorSelection
                    }
                  | {
                      type: 'value changed'
                      value: Array<PortableTextBlock> | undefined
                    }
                  | UnsetEvent
                  | {
                      type: 'custom.*'
                      event: CustomBehaviorEvent
                    }
                >
              }
              readonly 'text block.*': {
                readonly actions: ActionFunction<
                  MachineContext,
                  EventObject,
                  EventObject,
                  NonReducibleUnknown,
                  never,
                  never,
                  never,
                  never,
                  AnyEventObject
                >
              }
            }
            readonly initial: 'idle'
            readonly states: {
              readonly 'idle': {
                readonly on: {
                  readonly dragstart: {
                    readonly actions: readonly [
                      ActionFunction<
                        {
                          behaviors: Set<Behavior>
                          converters: Set<Converter>
                          keyGenerator: () => string
                          pendingEvents: Array<
                            InternalPatchEvent | MutationEvent
                          >
                          schema: EditorSchema
                          initialReadOnly: boolean
                          maxBlocks: number | undefined
                          selection: EditorSelection
                          value: Array<PortableTextBlock> | undefined
                          internalDrag?: {
                            ghost?: HTMLElement
                            origin: Pick<EventPosition, 'selection'>
                          }
                        },
                        {
                          type: 'dragstart'
                          origin: Pick<EventPosition, 'selection'>
                          ghost?: HTMLElement
                        },
                        | {
                            type: 'annotation.add'
                            annotation: {
                              name: string
                              value: {
                                [prop: string]: unknown
                              }
                            }
                          }
                        | {
                            type: 'annotation.remove'
                            annotation: {
                              name: string
                            }
                          }
                        | {
                            type: 'annotation.toggle'
                            annotation: {
                              name: string
                              value: {
                                [prop: string]: unknown
                              }
                            }
                          }
                        | {
                            type: 'block.set'
                            at: [KeyedSegment]
                            props: Record<string, unknown>
                          }
                        | {
                            type: 'block.unset'
                            at: [KeyedSegment]
                            props: Array<string>
                          }
                        | {
                            type: 'blur'
                          }
                        | {
                            type: 'data transfer.set'
                            data: string
                            dataTransfer: DataTransfer
                            mimeType: MIMEType_2
                          }
                        | {
                            type: 'decorator.add'
                            decorator: string
                            offsets?: {
                              anchor: BlockOffset_2
                              focus: BlockOffset_2
                            }
                          }
                        | {
                            type: 'decorator.remove'
                            decorator: string
                          }
                        | {
                            type: 'decorator.toggle'
                            decorator: string
                            offsets?: {
                              anchor: BlockOffset_2
                              focus: BlockOffset_2
                            }
                          }
                        | {
                            type: 'delete'
                            selection: NonNullable<EditorSelection>
                          }
                        | {
                            type: 'delete.backward'
                            unit: TextUnit
                          }
                        | {
                            type: 'delete.block'
                            at: [KeyedSegment]
                          }
                        | {
                            type: 'delete.forward'
                            unit: TextUnit
                          }
                        | {
                            type: 'delete.text'
                            anchor: BlockOffset_2
                            focus: BlockOffset_2
                          }
                        | {
                            type: 'focus'
                          }
                        | {
                            type: 'history.redo'
                          }
                        | {
                            type: 'history.undo'
                          }
                        | {
                            type: 'insert.blocks'
                            blocks: Array<PortableTextBlock>
                            placement: InsertPlacement_2
                          }
                        | {
                            type: 'insert.inline object'
                            inlineObject: {
                              name: string
                              value?: {
                                [prop: string]: unknown
                              }
                            }
                          }
                        | {
                            type: 'insert.break'
                          }
                        | {
                            type: 'insert.soft break'
                          }
                        | {
                            type: 'insert.block'
                            block: BlockWithOptionalKey_2
                            placement: InsertPlacement_2
                            select?: 'start' | 'end' | 'none'
                          }
                        | {
                            type: 'insert.span'
                            text: string
                            annotations?: Array<{
                              name: string
                              value: {
                                [prop: string]: unknown
                              }
                            }>
                            decorators?: Array<string>
                          }
                        | {
                            type: 'insert.text'
                            text: string
                          }
                        | {
                            type: 'list item.add'
                            listItem: string
                          }
                        | {
                            type: 'list item.remove'
                            listItem: string
                          }
                        | {
                            type: 'list item.toggle'
                            listItem: string
                          }
                        | {
                            type: 'move.block'
                            at: [KeyedSegment]
                            to: [KeyedSegment]
                          }
                        | {
                            type: 'move.block down'
                            at: [KeyedSegment]
                          }
                        | {
                            type: 'move.block up'
                            at: [KeyedSegment]
                          }
                        | {
                            type: 'select'
                            selection: EditorSelection
                          }
                        | {
                            type: 'select.previous block'
                            select?: 'start' | 'end'
                          }
                        | {
                            type: 'select.next block'
                            select?: 'start' | 'end'
                          }
                        | {
                            type: 'style.add'
                            style: string
                          }
                        | {
                            type: 'style.remove'
                            style: string
                          }
                        | {
                            type: 'style.toggle'
                            style: string
                          }
                        | {
                            type: 'deserialization.success'
                            mimeType: MIMEType_2
                            data: Array<PortableTextBlock>
                            originEvent:
                              | PickFromUnion_2<
                                  NativeBehaviorEvent,
                                  'type',
                                  'drag.drop' | 'clipboard.paste'
                                >
                              | InputBehaviorEvent_2
                          }
                        | {
                            type: 'deserialization.failure'
                            mimeType: MIMEType_2
                            reason: string
                            originEvent:
                              | PickFromUnion_2<
                                  NativeBehaviorEvent,
                                  'type',
                                  'drag.drop' | 'clipboard.paste'
                                >
                              | InputBehaviorEvent_2
                          }
                        | {
                            type: 'serialization.success'
                            mimeType: MIMEType_2
                            data: string
                            originEvent: PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              | 'clipboard.copy'
                              | 'clipboard.cut'
                              | 'drag.dragstart'
                            >
                          }
                        | {
                            type: 'serialization.failure'
                            mimeType: MIMEType_2
                            reason: string
                            originEvent: PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              | 'clipboard.copy'
                              | 'clipboard.cut'
                              | 'drag.dragstart'
                            >
                          }
                        | InternalPatchEvent
                        | MutationEvent
                        | {
                            type: 'normalizing'
                          }
                        | {
                            type: 'done normalizing'
                          }
                        | {
                            type: 'done syncing initial value'
                          }
                        | {
                            type: 'behavior event'
                            behaviorEvent:
                              | InternalBehaviorEvent
                              | SyntheticBehaviorEvent
                              | NativeBehaviorEvent
                            editor: PortableTextSlateEditor
                            defaultActionCallback?: () => void
                            nativeEvent?: {
                              preventDefault: () => void
                            }
                          }
                        | {
                            type: 'custom behavior event'
                            behaviorEvent: CustomBehaviorEvent
                            editor: PortableTextSlateEditor
                            nativeEvent?: {
                              preventDefault: () => void
                            }
                          }
                        | CustomBehaviorEvent
                        | ExternalSyntheticBehaviorEvent
                        | {
                            type: 'add behavior'
                            behavior: Behavior
                          }
                        | {
                            type: 'remove behavior'
                            behavior: Behavior
                          }
                        | {
                            type: 'update readOnly'
                            readOnly: boolean
                          }
                        | {
                            type: 'update schema'
                            schema: EditorSchema
                          }
                        | {
                            type: 'update behaviors'
                            behaviors: Array<Behavior>
                          }
                        | {
                            type: 'update key generator'
                            keyGenerator: () => string
                          }
                        | {
                            type: 'update value'
                            value: Array<PortableTextBlock> | undefined
                          }
                        | {
                            type: 'update maxBlocks'
                            maxBlocks: number | undefined
                          }
                        | PatchesEvent
                        | {
                            type: 'notify.patch'
                            patch: Patch
                          }
                        | {
                            type: 'notify.mutation'
                            patches: Array<Patch>
                            snapshot: Array<PortableTextBlock> | undefined
                            value: Array<PortableTextBlock> | undefined
                          }
                        | {
                            type: 'notify.blurred'
                            event: FocusEvent_2<HTMLDivElement, Element>
                          }
                        | {
                            type: 'notify.done loading'
                          }
                        | {
                            type: 'notify.editable'
                          }
                        | {
                            type: 'notify.error'
                            name: string
                            description: string
                            data: unknown
                          }
                        | {
                            type: 'notify.focused'
                            event: FocusEvent_2<HTMLDivElement, Element>
                          }
                        | {
                            type: 'notify.invalid value'
                            resolution: InvalidValueResolution | null
                            value: Array<PortableTextBlock> | undefined
                          }
                        | {
                            type: 'notify.loading'
                          }
                        | {
                            type: 'notify.read only'
                          }
                        | {
                            type: 'notify.ready'
                          }
                        | {
                            type: 'notify.selection'
                            selection: EditorSelection
                          }
                        | {
                            type: 'notify.value changed'
                            value: Array<PortableTextBlock> | undefined
                          }
                        | {
                            type: 'notify.unset'
                            previousValue: Array<PortableTextBlock>
                          }
                        | {
                            type: 'dragstart'
                            origin: Pick<EventPosition, 'selection'>
                            ghost?: HTMLElement
                          }
                        | {
                            type: 'dragend'
                          }
                        | {
                            type: 'drop'
                          },
                        undefined,
                        never,
                        never,
                        never,
                        never,
                        never
                      >,
                    ]
                    readonly target: 'dragging internally'
                  }
                }
              }
              readonly 'dragging internally': {
                readonly exit: readonly [
                  ({
                    context,
                  }: ActionArgs<
                    {
                      behaviors: Set<Behavior>
                      converters: Set<Converter>
                      keyGenerator: () => string
                      pendingEvents: Array<InternalPatchEvent | MutationEvent>
                      schema: EditorSchema
                      initialReadOnly: boolean
                      maxBlocks: number | undefined
                      selection: EditorSelection
                      value: Array<PortableTextBlock> | undefined
                      internalDrag?: {
                        ghost?: HTMLElement
                        origin: Pick<EventPosition, 'selection'>
                      }
                    },
                    | {
                        type: 'annotation.add'
                        annotation: {
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'annotation.remove'
                        annotation: {
                          name: string
                        }
                      }
                    | {
                        type: 'annotation.toggle'
                        annotation: {
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'block.set'
                        at: [KeyedSegment]
                        props: Record<string, unknown>
                      }
                    | {
                        type: 'block.unset'
                        at: [KeyedSegment]
                        props: Array<string>
                      }
                    | {
                        type: 'blur'
                      }
                    | {
                        type: 'data transfer.set'
                        data: string
                        dataTransfer: DataTransfer
                        mimeType: MIMEType_2
                      }
                    | {
                        type: 'decorator.add'
                        decorator: string
                        offsets?: {
                          anchor: BlockOffset_2
                          focus: BlockOffset_2
                        }
                      }
                    | {
                        type: 'decorator.remove'
                        decorator: string
                      }
                    | {
                        type: 'decorator.toggle'
                        decorator: string
                        offsets?: {
                          anchor: BlockOffset_2
                          focus: BlockOffset_2
                        }
                      }
                    | {
                        type: 'delete'
                        selection: NonNullable<EditorSelection>
                      }
                    | {
                        type: 'delete.backward'
                        unit: TextUnit
                      }
                    | {
                        type: 'delete.block'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'delete.forward'
                        unit: TextUnit
                      }
                    | {
                        type: 'delete.text'
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    | {
                        type: 'focus'
                      }
                    | {
                        type: 'history.redo'
                      }
                    | {
                        type: 'history.undo'
                      }
                    | {
                        type: 'insert.blocks'
                        blocks: Array<PortableTextBlock>
                        placement: InsertPlacement_2
                      }
                    | {
                        type: 'insert.inline object'
                        inlineObject: {
                          name: string
                          value?: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'insert.break'
                      }
                    | {
                        type: 'insert.soft break'
                      }
                    | {
                        type: 'insert.block'
                        block: BlockWithOptionalKey_2
                        placement: InsertPlacement_2
                        select?: 'start' | 'end' | 'none'
                      }
                    | {
                        type: 'insert.span'
                        text: string
                        annotations?: Array<{
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }>
                        decorators?: Array<string>
                      }
                    | {
                        type: 'insert.text'
                        text: string
                      }
                    | {
                        type: 'list item.add'
                        listItem: string
                      }
                    | {
                        type: 'list item.remove'
                        listItem: string
                      }
                    | {
                        type: 'list item.toggle'
                        listItem: string
                      }
                    | {
                        type: 'move.block'
                        at: [KeyedSegment]
                        to: [KeyedSegment]
                      }
                    | {
                        type: 'move.block down'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'move.block up'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'select'
                        selection: EditorSelection
                      }
                    | {
                        type: 'select.previous block'
                        select?: 'start' | 'end'
                      }
                    | {
                        type: 'select.next block'
                        select?: 'start' | 'end'
                      }
                    | {
                        type: 'style.add'
                        style: string
                      }
                    | {
                        type: 'style.remove'
                        style: string
                      }
                    | {
                        type: 'style.toggle'
                        style: string
                      }
                    | {
                        type: 'deserialization.success'
                        mimeType: MIMEType_2
                        data: Array<PortableTextBlock>
                        originEvent:
                          | PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              'drag.drop' | 'clipboard.paste'
                            >
                          | InputBehaviorEvent_2
                      }
                    | {
                        type: 'deserialization.failure'
                        mimeType: MIMEType_2
                        reason: string
                        originEvent:
                          | PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              'drag.drop' | 'clipboard.paste'
                            >
                          | InputBehaviorEvent_2
                      }
                    | {
                        type: 'serialization.success'
                        mimeType: MIMEType_2
                        data: string
                        originEvent: PickFromUnion_2<
                          NativeBehaviorEvent,
                          'type',
                          'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                        >
                      }
                    | {
                        type: 'serialization.failure'
                        mimeType: MIMEType_2
                        reason: string
                        originEvent: PickFromUnion_2<
                          NativeBehaviorEvent,
                          'type',
                          'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                        >
                      }
                    | InternalPatchEvent
                    | MutationEvent
                    | {
                        type: 'normalizing'
                      }
                    | {
                        type: 'done normalizing'
                      }
                    | {
                        type: 'done syncing initial value'
                      }
                    | {
                        type: 'behavior event'
                        behaviorEvent:
                          | InternalBehaviorEvent
                          | SyntheticBehaviorEvent
                          | NativeBehaviorEvent
                        editor: PortableTextSlateEditor
                        defaultActionCallback?: () => void
                        nativeEvent?: {
                          preventDefault: () => void
                        }
                      }
                    | {
                        type: 'custom behavior event'
                        behaviorEvent: CustomBehaviorEvent
                        editor: PortableTextSlateEditor
                        nativeEvent?: {
                          preventDefault: () => void
                        }
                      }
                    | CustomBehaviorEvent
                    | ExternalSyntheticBehaviorEvent
                    | {
                        type: 'add behavior'
                        behavior: Behavior
                      }
                    | {
                        type: 'remove behavior'
                        behavior: Behavior
                      }
                    | {
                        type: 'update readOnly'
                        readOnly: boolean
                      }
                    | {
                        type: 'update schema'
                        schema: EditorSchema
                      }
                    | {
                        type: 'update behaviors'
                        behaviors: Array<Behavior>
                      }
                    | {
                        type: 'update key generator'
                        keyGenerator: () => string
                      }
                    | {
                        type: 'update value'
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'update maxBlocks'
                        maxBlocks: number | undefined
                      }
                    | PatchesEvent
                    | {
                        type: 'notify.patch'
                        patch: Patch
                      }
                    | {
                        type: 'notify.mutation'
                        patches: Array<Patch>
                        snapshot: Array<PortableTextBlock> | undefined
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.blurred'
                        event: FocusEvent_2<HTMLDivElement, Element>
                      }
                    | {
                        type: 'notify.done loading'
                      }
                    | {
                        type: 'notify.editable'
                      }
                    | {
                        type: 'notify.error'
                        name: string
                        description: string
                        data: unknown
                      }
                    | {
                        type: 'notify.focused'
                        event: FocusEvent_2<HTMLDivElement, Element>
                      }
                    | {
                        type: 'notify.invalid value'
                        resolution: InvalidValueResolution | null
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.loading'
                      }
                    | {
                        type: 'notify.read only'
                      }
                    | {
                        type: 'notify.ready'
                      }
                    | {
                        type: 'notify.selection'
                        selection: EditorSelection
                      }
                    | {
                        type: 'notify.value changed'
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.unset'
                        previousValue: Array<PortableTextBlock>
                      }
                    | {
                        type: 'dragstart'
                        origin: Pick<EventPosition, 'selection'>
                        ghost?: HTMLElement
                      }
                    | {
                        type: 'dragend'
                      }
                    | {
                        type: 'drop'
                      },
                    | {
                        type: 'annotation.add'
                        annotation: {
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'annotation.remove'
                        annotation: {
                          name: string
                        }
                      }
                    | {
                        type: 'annotation.toggle'
                        annotation: {
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'block.set'
                        at: [KeyedSegment]
                        props: Record<string, unknown>
                      }
                    | {
                        type: 'block.unset'
                        at: [KeyedSegment]
                        props: Array<string>
                      }
                    | {
                        type: 'blur'
                      }
                    | {
                        type: 'data transfer.set'
                        data: string
                        dataTransfer: DataTransfer
                        mimeType: MIMEType_2
                      }
                    | {
                        type: 'decorator.add'
                        decorator: string
                        offsets?: {
                          anchor: BlockOffset_2
                          focus: BlockOffset_2
                        }
                      }
                    | {
                        type: 'decorator.remove'
                        decorator: string
                      }
                    | {
                        type: 'decorator.toggle'
                        decorator: string
                        offsets?: {
                          anchor: BlockOffset_2
                          focus: BlockOffset_2
                        }
                      }
                    | {
                        type: 'delete'
                        selection: NonNullable<EditorSelection>
                      }
                    | {
                        type: 'delete.backward'
                        unit: TextUnit
                      }
                    | {
                        type: 'delete.block'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'delete.forward'
                        unit: TextUnit
                      }
                    | {
                        type: 'delete.text'
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    | {
                        type: 'focus'
                      }
                    | {
                        type: 'history.redo'
                      }
                    | {
                        type: 'history.undo'
                      }
                    | {
                        type: 'insert.blocks'
                        blocks: Array<PortableTextBlock>
                        placement: InsertPlacement_2
                      }
                    | {
                        type: 'insert.inline object'
                        inlineObject: {
                          name: string
                          value?: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'insert.break'
                      }
                    | {
                        type: 'insert.soft break'
                      }
                    | {
                        type: 'insert.block'
                        block: BlockWithOptionalKey_2
                        placement: InsertPlacement_2
                        select?: 'start' | 'end' | 'none'
                      }
                    | {
                        type: 'insert.span'
                        text: string
                        annotations?: Array<{
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }>
                        decorators?: Array<string>
                      }
                    | {
                        type: 'insert.text'
                        text: string
                      }
                    | {
                        type: 'list item.add'
                        listItem: string
                      }
                    | {
                        type: 'list item.remove'
                        listItem: string
                      }
                    | {
                        type: 'list item.toggle'
                        listItem: string
                      }
                    | {
                        type: 'move.block'
                        at: [KeyedSegment]
                        to: [KeyedSegment]
                      }
                    | {
                        type: 'move.block down'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'move.block up'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'select'
                        selection: EditorSelection
                      }
                    | {
                        type: 'select.previous block'
                        select?: 'start' | 'end'
                      }
                    | {
                        type: 'select.next block'
                        select?: 'start' | 'end'
                      }
                    | {
                        type: 'style.add'
                        style: string
                      }
                    | {
                        type: 'style.remove'
                        style: string
                      }
                    | {
                        type: 'style.toggle'
                        style: string
                      }
                    | {
                        type: 'deserialization.success'
                        mimeType: MIMEType_2
                        data: Array<PortableTextBlock>
                        originEvent:
                          | PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              'drag.drop' | 'clipboard.paste'
                            >
                          | InputBehaviorEvent_2
                      }
                    | {
                        type: 'deserialization.failure'
                        mimeType: MIMEType_2
                        reason: string
                        originEvent:
                          | PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              'drag.drop' | 'clipboard.paste'
                            >
                          | InputBehaviorEvent_2
                      }
                    | {
                        type: 'serialization.success'
                        mimeType: MIMEType_2
                        data: string
                        originEvent: PickFromUnion_2<
                          NativeBehaviorEvent,
                          'type',
                          'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                        >
                      }
                    | {
                        type: 'serialization.failure'
                        mimeType: MIMEType_2
                        reason: string
                        originEvent: PickFromUnion_2<
                          NativeBehaviorEvent,
                          'type',
                          'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                        >
                      }
                    | InternalPatchEvent
                    | MutationEvent
                    | {
                        type: 'normalizing'
                      }
                    | {
                        type: 'done normalizing'
                      }
                    | {
                        type: 'done syncing initial value'
                      }
                    | {
                        type: 'behavior event'
                        behaviorEvent:
                          | InternalBehaviorEvent
                          | SyntheticBehaviorEvent
                          | NativeBehaviorEvent
                        editor: PortableTextSlateEditor
                        defaultActionCallback?: () => void
                        nativeEvent?: {
                          preventDefault: () => void
                        }
                      }
                    | {
                        type: 'custom behavior event'
                        behaviorEvent: CustomBehaviorEvent
                        editor: PortableTextSlateEditor
                        nativeEvent?: {
                          preventDefault: () => void
                        }
                      }
                    | CustomBehaviorEvent
                    | ExternalSyntheticBehaviorEvent
                    | {
                        type: 'add behavior'
                        behavior: Behavior
                      }
                    | {
                        type: 'remove behavior'
                        behavior: Behavior
                      }
                    | {
                        type: 'update readOnly'
                        readOnly: boolean
                      }
                    | {
                        type: 'update schema'
                        schema: EditorSchema
                      }
                    | {
                        type: 'update behaviors'
                        behaviors: Array<Behavior>
                      }
                    | {
                        type: 'update key generator'
                        keyGenerator: () => string
                      }
                    | {
                        type: 'update value'
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'update maxBlocks'
                        maxBlocks: number | undefined
                      }
                    | PatchesEvent
                    | {
                        type: 'notify.patch'
                        patch: Patch
                      }
                    | {
                        type: 'notify.mutation'
                        patches: Array<Patch>
                        snapshot: Array<PortableTextBlock> | undefined
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.blurred'
                        event: FocusEvent_2<HTMLDivElement, Element>
                      }
                    | {
                        type: 'notify.done loading'
                      }
                    | {
                        type: 'notify.editable'
                      }
                    | {
                        type: 'notify.error'
                        name: string
                        description: string
                        data: unknown
                      }
                    | {
                        type: 'notify.focused'
                        event: FocusEvent_2<HTMLDivElement, Element>
                      }
                    | {
                        type: 'notify.invalid value'
                        resolution: InvalidValueResolution | null
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.loading'
                      }
                    | {
                        type: 'notify.read only'
                      }
                    | {
                        type: 'notify.ready'
                      }
                    | {
                        type: 'notify.selection'
                        selection: EditorSelection
                      }
                    | {
                        type: 'notify.value changed'
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.unset'
                        previousValue: Array<PortableTextBlock>
                      }
                    | {
                        type: 'dragstart'
                        origin: Pick<EventPosition, 'selection'>
                        ghost?: HTMLElement
                      }
                    | {
                        type: 'dragend'
                      }
                    | {
                        type: 'drop'
                      }
                  >) => void,
                  ActionFunction<
                    {
                      behaviors: Set<Behavior>
                      converters: Set<Converter>
                      keyGenerator: () => string
                      pendingEvents: Array<InternalPatchEvent | MutationEvent>
                      schema: EditorSchema
                      initialReadOnly: boolean
                      maxBlocks: number | undefined
                      selection: EditorSelection
                      value: Array<PortableTextBlock> | undefined
                      internalDrag?: {
                        ghost?: HTMLElement
                        origin: Pick<EventPosition, 'selection'>
                      }
                    },
                    | {
                        type: 'annotation.add'
                        annotation: {
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'annotation.remove'
                        annotation: {
                          name: string
                        }
                      }
                    | {
                        type: 'annotation.toggle'
                        annotation: {
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'block.set'
                        at: [KeyedSegment]
                        props: Record<string, unknown>
                      }
                    | {
                        type: 'block.unset'
                        at: [KeyedSegment]
                        props: Array<string>
                      }
                    | {
                        type: 'blur'
                      }
                    | {
                        type: 'data transfer.set'
                        data: string
                        dataTransfer: DataTransfer
                        mimeType: MIMEType_2
                      }
                    | {
                        type: 'decorator.add'
                        decorator: string
                        offsets?: {
                          anchor: BlockOffset_2
                          focus: BlockOffset_2
                        }
                      }
                    | {
                        type: 'decorator.remove'
                        decorator: string
                      }
                    | {
                        type: 'decorator.toggle'
                        decorator: string
                        offsets?: {
                          anchor: BlockOffset_2
                          focus: BlockOffset_2
                        }
                      }
                    | {
                        type: 'delete'
                        selection: NonNullable<EditorSelection>
                      }
                    | {
                        type: 'delete.backward'
                        unit: TextUnit
                      }
                    | {
                        type: 'delete.block'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'delete.forward'
                        unit: TextUnit
                      }
                    | {
                        type: 'delete.text'
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    | {
                        type: 'focus'
                      }
                    | {
                        type: 'history.redo'
                      }
                    | {
                        type: 'history.undo'
                      }
                    | {
                        type: 'insert.blocks'
                        blocks: Array<PortableTextBlock>
                        placement: InsertPlacement_2
                      }
                    | {
                        type: 'insert.inline object'
                        inlineObject: {
                          name: string
                          value?: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'insert.break'
                      }
                    | {
                        type: 'insert.soft break'
                      }
                    | {
                        type: 'insert.block'
                        block: BlockWithOptionalKey_2
                        placement: InsertPlacement_2
                        select?: 'start' | 'end' | 'none'
                      }
                    | {
                        type: 'insert.span'
                        text: string
                        annotations?: Array<{
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }>
                        decorators?: Array<string>
                      }
                    | {
                        type: 'insert.text'
                        text: string
                      }
                    | {
                        type: 'list item.add'
                        listItem: string
                      }
                    | {
                        type: 'list item.remove'
                        listItem: string
                      }
                    | {
                        type: 'list item.toggle'
                        listItem: string
                      }
                    | {
                        type: 'move.block'
                        at: [KeyedSegment]
                        to: [KeyedSegment]
                      }
                    | {
                        type: 'move.block down'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'move.block up'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'select'
                        selection: EditorSelection
                      }
                    | {
                        type: 'select.previous block'
                        select?: 'start' | 'end'
                      }
                    | {
                        type: 'select.next block'
                        select?: 'start' | 'end'
                      }
                    | {
                        type: 'style.add'
                        style: string
                      }
                    | {
                        type: 'style.remove'
                        style: string
                      }
                    | {
                        type: 'style.toggle'
                        style: string
                      }
                    | {
                        type: 'deserialization.success'
                        mimeType: MIMEType_2
                        data: Array<PortableTextBlock>
                        originEvent:
                          | PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              'drag.drop' | 'clipboard.paste'
                            >
                          | InputBehaviorEvent_2
                      }
                    | {
                        type: 'deserialization.failure'
                        mimeType: MIMEType_2
                        reason: string
                        originEvent:
                          | PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              'drag.drop' | 'clipboard.paste'
                            >
                          | InputBehaviorEvent_2
                      }
                    | {
                        type: 'serialization.success'
                        mimeType: MIMEType_2
                        data: string
                        originEvent: PickFromUnion_2<
                          NativeBehaviorEvent,
                          'type',
                          'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                        >
                      }
                    | {
                        type: 'serialization.failure'
                        mimeType: MIMEType_2
                        reason: string
                        originEvent: PickFromUnion_2<
                          NativeBehaviorEvent,
                          'type',
                          'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                        >
                      }
                    | InternalPatchEvent
                    | MutationEvent
                    | {
                        type: 'normalizing'
                      }
                    | {
                        type: 'done normalizing'
                      }
                    | {
                        type: 'done syncing initial value'
                      }
                    | {
                        type: 'behavior event'
                        behaviorEvent:
                          | InternalBehaviorEvent
                          | SyntheticBehaviorEvent
                          | NativeBehaviorEvent
                        editor: PortableTextSlateEditor
                        defaultActionCallback?: () => void
                        nativeEvent?: {
                          preventDefault: () => void
                        }
                      }
                    | {
                        type: 'custom behavior event'
                        behaviorEvent: CustomBehaviorEvent
                        editor: PortableTextSlateEditor
                        nativeEvent?: {
                          preventDefault: () => void
                        }
                      }
                    | CustomBehaviorEvent
                    | ExternalSyntheticBehaviorEvent
                    | {
                        type: 'add behavior'
                        behavior: Behavior
                      }
                    | {
                        type: 'remove behavior'
                        behavior: Behavior
                      }
                    | {
                        type: 'update readOnly'
                        readOnly: boolean
                      }
                    | {
                        type: 'update schema'
                        schema: EditorSchema
                      }
                    | {
                        type: 'update behaviors'
                        behaviors: Array<Behavior>
                      }
                    | {
                        type: 'update key generator'
                        keyGenerator: () => string
                      }
                    | {
                        type: 'update value'
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'update maxBlocks'
                        maxBlocks: number | undefined
                      }
                    | PatchesEvent
                    | {
                        type: 'notify.patch'
                        patch: Patch
                      }
                    | {
                        type: 'notify.mutation'
                        patches: Array<Patch>
                        snapshot: Array<PortableTextBlock> | undefined
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.blurred'
                        event: FocusEvent_2<HTMLDivElement, Element>
                      }
                    | {
                        type: 'notify.done loading'
                      }
                    | {
                        type: 'notify.editable'
                      }
                    | {
                        type: 'notify.error'
                        name: string
                        description: string
                        data: unknown
                      }
                    | {
                        type: 'notify.focused'
                        event: FocusEvent_2<HTMLDivElement, Element>
                      }
                    | {
                        type: 'notify.invalid value'
                        resolution: InvalidValueResolution | null
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.loading'
                      }
                    | {
                        type: 'notify.read only'
                      }
                    | {
                        type: 'notify.ready'
                      }
                    | {
                        type: 'notify.selection'
                        selection: EditorSelection
                      }
                    | {
                        type: 'notify.value changed'
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.unset'
                        previousValue: Array<PortableTextBlock>
                      }
                    | {
                        type: 'dragstart'
                        origin: Pick<EventPosition, 'selection'>
                        ghost?: HTMLElement
                      }
                    | {
                        type: 'dragend'
                      }
                    | {
                        type: 'drop'
                      },
                    | {
                        type: 'annotation.add'
                        annotation: {
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'annotation.remove'
                        annotation: {
                          name: string
                        }
                      }
                    | {
                        type: 'annotation.toggle'
                        annotation: {
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'block.set'
                        at: [KeyedSegment]
                        props: Record<string, unknown>
                      }
                    | {
                        type: 'block.unset'
                        at: [KeyedSegment]
                        props: Array<string>
                      }
                    | {
                        type: 'blur'
                      }
                    | {
                        type: 'data transfer.set'
                        data: string
                        dataTransfer: DataTransfer
                        mimeType: MIMEType_2
                      }
                    | {
                        type: 'decorator.add'
                        decorator: string
                        offsets?: {
                          anchor: BlockOffset_2
                          focus: BlockOffset_2
                        }
                      }
                    | {
                        type: 'decorator.remove'
                        decorator: string
                      }
                    | {
                        type: 'decorator.toggle'
                        decorator: string
                        offsets?: {
                          anchor: BlockOffset_2
                          focus: BlockOffset_2
                        }
                      }
                    | {
                        type: 'delete'
                        selection: NonNullable<EditorSelection>
                      }
                    | {
                        type: 'delete.backward'
                        unit: TextUnit
                      }
                    | {
                        type: 'delete.block'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'delete.forward'
                        unit: TextUnit
                      }
                    | {
                        type: 'delete.text'
                        anchor: BlockOffset_2
                        focus: BlockOffset_2
                      }
                    | {
                        type: 'focus'
                      }
                    | {
                        type: 'history.redo'
                      }
                    | {
                        type: 'history.undo'
                      }
                    | {
                        type: 'insert.blocks'
                        blocks: Array<PortableTextBlock>
                        placement: InsertPlacement_2
                      }
                    | {
                        type: 'insert.inline object'
                        inlineObject: {
                          name: string
                          value?: {
                            [prop: string]: unknown
                          }
                        }
                      }
                    | {
                        type: 'insert.break'
                      }
                    | {
                        type: 'insert.soft break'
                      }
                    | {
                        type: 'insert.block'
                        block: BlockWithOptionalKey_2
                        placement: InsertPlacement_2
                        select?: 'start' | 'end' | 'none'
                      }
                    | {
                        type: 'insert.span'
                        text: string
                        annotations?: Array<{
                          name: string
                          value: {
                            [prop: string]: unknown
                          }
                        }>
                        decorators?: Array<string>
                      }
                    | {
                        type: 'insert.text'
                        text: string
                      }
                    | {
                        type: 'list item.add'
                        listItem: string
                      }
                    | {
                        type: 'list item.remove'
                        listItem: string
                      }
                    | {
                        type: 'list item.toggle'
                        listItem: string
                      }
                    | {
                        type: 'move.block'
                        at: [KeyedSegment]
                        to: [KeyedSegment]
                      }
                    | {
                        type: 'move.block down'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'move.block up'
                        at: [KeyedSegment]
                      }
                    | {
                        type: 'select'
                        selection: EditorSelection
                      }
                    | {
                        type: 'select.previous block'
                        select?: 'start' | 'end'
                      }
                    | {
                        type: 'select.next block'
                        select?: 'start' | 'end'
                      }
                    | {
                        type: 'style.add'
                        style: string
                      }
                    | {
                        type: 'style.remove'
                        style: string
                      }
                    | {
                        type: 'style.toggle'
                        style: string
                      }
                    | {
                        type: 'deserialization.success'
                        mimeType: MIMEType_2
                        data: Array<PortableTextBlock>
                        originEvent:
                          | PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              'drag.drop' | 'clipboard.paste'
                            >
                          | InputBehaviorEvent_2
                      }
                    | {
                        type: 'deserialization.failure'
                        mimeType: MIMEType_2
                        reason: string
                        originEvent:
                          | PickFromUnion_2<
                              NativeBehaviorEvent,
                              'type',
                              'drag.drop' | 'clipboard.paste'
                            >
                          | InputBehaviorEvent_2
                      }
                    | {
                        type: 'serialization.success'
                        mimeType: MIMEType_2
                        data: string
                        originEvent: PickFromUnion_2<
                          NativeBehaviorEvent,
                          'type',
                          'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                        >
                      }
                    | {
                        type: 'serialization.failure'
                        mimeType: MIMEType_2
                        reason: string
                        originEvent: PickFromUnion_2<
                          NativeBehaviorEvent,
                          'type',
                          'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
                        >
                      }
                    | InternalPatchEvent
                    | MutationEvent
                    | {
                        type: 'normalizing'
                      }
                    | {
                        type: 'done normalizing'
                      }
                    | {
                        type: 'done syncing initial value'
                      }
                    | {
                        type: 'behavior event'
                        behaviorEvent:
                          | InternalBehaviorEvent
                          | SyntheticBehaviorEvent
                          | NativeBehaviorEvent
                        editor: PortableTextSlateEditor
                        defaultActionCallback?: () => void
                        nativeEvent?: {
                          preventDefault: () => void
                        }
                      }
                    | {
                        type: 'custom behavior event'
                        behaviorEvent: CustomBehaviorEvent
                        editor: PortableTextSlateEditor
                        nativeEvent?: {
                          preventDefault: () => void
                        }
                      }
                    | CustomBehaviorEvent
                    | ExternalSyntheticBehaviorEvent
                    | {
                        type: 'add behavior'
                        behavior: Behavior
                      }
                    | {
                        type: 'remove behavior'
                        behavior: Behavior
                      }
                    | {
                        type: 'update readOnly'
                        readOnly: boolean
                      }
                    | {
                        type: 'update schema'
                        schema: EditorSchema
                      }
                    | {
                        type: 'update behaviors'
                        behaviors: Array<Behavior>
                      }
                    | {
                        type: 'update key generator'
                        keyGenerator: () => string
                      }
                    | {
                        type: 'update value'
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'update maxBlocks'
                        maxBlocks: number | undefined
                      }
                    | PatchesEvent
                    | {
                        type: 'notify.patch'
                        patch: Patch
                      }
                    | {
                        type: 'notify.mutation'
                        patches: Array<Patch>
                        snapshot: Array<PortableTextBlock> | undefined
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.blurred'
                        event: FocusEvent_2<HTMLDivElement, Element>
                      }
                    | {
                        type: 'notify.done loading'
                      }
                    | {
                        type: 'notify.editable'
                      }
                    | {
                        type: 'notify.error'
                        name: string
                        description: string
                        data: unknown
                      }
                    | {
                        type: 'notify.focused'
                        event: FocusEvent_2<HTMLDivElement, Element>
                      }
                    | {
                        type: 'notify.invalid value'
                        resolution: InvalidValueResolution | null
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.loading'
                      }
                    | {
                        type: 'notify.read only'
                      }
                    | {
                        type: 'notify.ready'
                      }
                    | {
                        type: 'notify.selection'
                        selection: EditorSelection
                      }
                    | {
                        type: 'notify.value changed'
                        value: Array<PortableTextBlock> | undefined
                      }
                    | {
                        type: 'notify.unset'
                        previousValue: Array<PortableTextBlock>
                      }
                    | {
                        type: 'dragstart'
                        origin: Pick<EventPosition, 'selection'>
                        ghost?: HTMLElement
                      }
                    | {
                        type: 'dragend'
                      }
                    | {
                        type: 'drop'
                      },
                    undefined,
                    never,
                    never,
                    never,
                    never,
                    never
                  >,
                ]
                readonly tags: readonly ['dragging internally']
                readonly on: {
                  readonly dragend: {
                    readonly target: 'idle'
                  }
                  readonly drop: {
                    readonly target: 'idle'
                  }
                }
              }
            }
          }
        }
      }
      readonly 'setup': {
        readonly initial: 'setting up'
        readonly states: {
          readonly 'setting up': {
            readonly exit: readonly ['emit ready']
            readonly on: {
              readonly 'internal.patch': {
                readonly actions: 'defer event'
              }
              readonly 'mutation': {
                readonly actions: 'defer event'
              }
              readonly 'done syncing initial value': {
                readonly target: 'pristine'
              }
            }
          }
          readonly 'pristine': {
            readonly initial: 'idle'
            readonly states: {
              readonly idle: {
                readonly on: {
                  readonly 'normalizing': {
                    readonly target: 'normalizing'
                  }
                  readonly 'internal.patch': {
                    readonly actions: 'defer event'
                    readonly target: '#editor.setup.dirty'
                  }
                  readonly 'mutation': {
                    readonly actions: 'defer event'
                    readonly target: '#editor.setup.dirty'
                  }
                }
              }
              readonly normalizing: {
                readonly on: {
                  readonly 'done normalizing': {
                    readonly target: 'idle'
                  }
                  readonly 'internal.patch': {
                    readonly actions: 'defer event'
                  }
                  readonly 'mutation': {
                    readonly actions: 'defer event'
                  }
                }
              }
            }
          }
          readonly 'dirty': {
            readonly entry: readonly [
              'emit pending events',
              'clear pending events',
            ]
            readonly on: {
              readonly 'internal.patch': {
                readonly actions: 'emit patch event'
              }
              readonly 'mutation': {
                readonly actions: 'emit mutation event'
              }
            }
          }
        }
      }
    }
  }
>

/**
 * @public
 */
declare type EditorSchema = PortableTextMemberSchemaTypes

/** @public */
declare type EditorSelection = {
  anchor: EditorSelectionPoint
  focus: EditorSelectionPoint
  backward?: boolean
} | null

/** @public */
declare type EditorSelectionPoint = {
  path: Path
  offset: number
}

/**
 * @public
 */
declare type EditorSelector<TSelected> = (snapshot: EditorSnapshot) => TSelected

/**
 * @public
 */
declare type EditorSnapshot = {
  context: EditorContext
  /**
   * @beta
   * Do not rely on this externally
   */
  beta: {
    hasTag: HasTag
    internalDrag:
      | {
          origin: Pick<EventPosition, 'selection'>
        }
      | undefined
  }
}

declare type EventPosition = {
  block: 'start' | 'end'
  /**
   * Did the event origin from the editor DOM node itself or from a child node?
   */
  isEditor: boolean
  selection: NonNullable<EditorSelection>
}

/**
 * @beta
 */
declare type ExternalSyntheticBehaviorEvent = {
  type: SyntheticBehaviorEventType<'insert', 'block object'>
  placement: InsertPlacement
  blockObject: {
    name: string
    value?: {
      [prop: string]: unknown
    }
  }
}

/**
 * @public
 */
export declare const getActiveAnnotations: EditorSelector<
  Array<PortableTextObject>
>

/**
 * @public
 */
export declare const getActiveListItem: EditorSelector<
  PortableTextListBlock['listItem'] | undefined
>

/**
 * @public
 */
export declare const getActiveStyle: EditorSelector<
  PortableTextTextBlock['style']
>

/**
 * @public
 */
export declare const getAnchorBlock: EditorSelector<
  | {
      node: PortableTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getAnchorChild: EditorSelector<
  | {
      node: PortableTextObject | PortableTextSpan
      path: [KeyedSegment_2, 'children', KeyedSegment_2]
    }
  | undefined
>

/**
 * @public
 */
export declare const getAnchorSpan: EditorSelector<
  | {
      node: PortableTextSpan
      path: [KeyedSegment_2, 'children', KeyedSegment_2]
    }
  | undefined
>

/**
 * @public
 */
export declare const getAnchorTextBlock: EditorSelector<
  | {
      node: PortableTextTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getBlockOffsets: EditorSelector<
  | {
      start: BlockOffset
      end: BlockOffset
    }
  | undefined
>

/**
 * @public
 */
export declare const getBlockTextBefore: EditorSelector<string>

/**
 * @public
 * Returns the selection of the of the word the caret is placed in.
 * Note: Only returns a word selection if the current selection is collapsed
 */
export declare const getCaretWordSelection: EditorSelector<EditorSelection>

/**
 * @public
 */
export declare const getFirstBlock: EditorSelector<
  | {
      node: PortableTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getFocusBlock: EditorSelector<
  | {
      node: PortableTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getFocusBlockObject: EditorSelector<
  | {
      node: PortableTextObject
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getFocusChild: EditorSelector<
  | {
      node: PortableTextObject | PortableTextSpan
      path: [KeyedSegment, 'children', KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getFocusInlineObject: EditorSelector<
  | {
      node: PortableTextObject
      path: [KeyedSegment, 'children', KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getFocusListBlock: EditorSelector<
  | {
      node: PortableTextListBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getFocusSpan: EditorSelector<
  | {
      node: PortableTextSpan
      path: [KeyedSegment, 'children', KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getFocusTextBlock: EditorSelector<
  | {
      node: PortableTextTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getLastBlock: EditorSelector<
  | {
      node: PortableTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getNextBlock: EditorSelector<
  | {
      node: PortableTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getNextInlineObject: EditorSelector<
  | {
      node: PortableTextObject
      path: [KeyedSegment, 'children', KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getPreviousBlock: EditorSelector<
  | {
      node: PortableTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getPreviousInlineObject: EditorSelector<
  | {
      node: PortableTextObject
      path: [KeyedSegment, 'children', KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getSelectedBlocks: EditorSelector<
  Array<{
    node: PortableTextBlock
    path: [KeyedSegment]
  }>
>

/**
 * @public
 */
export declare const getSelectedSlice: EditorSelector<Array<PortableTextBlock>>

/**
 * @public
 */
export declare const getSelectedSpans: EditorSelector<
  Array<{
    node: PortableTextSpan
    path: [KeyedSegment, 'children', KeyedSegment]
  }>
>

/**
 * @public
 */
declare const getSelection_2: EditorSelector<EditorSelection>
export {getSelection_2 as getSelection}

/**
 * @public
 */
export declare const getSelectionEndBlock: EditorSelector<
  | {
      node: PortableTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getSelectionEndPoint: EditorSelector<
  EditorSelectionPoint | undefined
>

/**
 * @public
 */
export declare const getSelectionStartBlock: EditorSelector<
  | {
      node: PortableTextBlock
      path: [KeyedSegment]
    }
  | undefined
>

/**
 * @public
 */
export declare const getSelectionStartPoint: EditorSelector<
  EditorSelectionPoint | undefined
>

/**
 * @public
 */
export declare const getSelectionText: EditorSelector<string>

/**
 * @public
 */
export declare const getTrimmedSelection: EditorSelector<EditorSelection>

/**
 * @public
 */
export declare const getValue: EditorSelector<Array<PortableTextBlock>>

declare type HasTag = ReturnType<EditorActor['getSnapshot']>['hasTag']

declare interface History_2 {
  redos: HistoryItem[]
  undos: HistoryItem[]
}

declare type HistoryItem = {
  operations: Operation[]
  timestamp: Date
}

/**
 * Used to represent native InputEvents that hold a DataTransfer object.
 *
 * These can either be one of:
 *
 * - insertFromPaste
 * - insertFromPasteAsQuotation
 * - insertFromDrop
 * - insertReplacementText
 * - insertFromYank
 */
declare type InputBehaviorEvent = {
  type: NativeBehaviorEventType<'input', '*'>
  originEvent: {
    dataTransfer: DataTransfer
  }
}

declare type InsertPlacement = 'auto' | 'after' | 'before'

declare type InternalBehaviorEvent =
  | {
      type: InternalBehaviorEventType<'deserialize'>
      originEvent:
        | PickFromUnion<
            NativeBehaviorEvent,
            'type',
            'drag.drop' | 'clipboard.paste'
          >
        | InputBehaviorEvent
    }
  | {
      type: InternalBehaviorEventType<'serialize'>
      originEvent: PickFromUnion<
        NativeBehaviorEvent,
        'type',
        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
      >
    }

/**************************************
 * Internal events
 **************************************/
declare type InternalBehaviorEventNamespace = 'deserialize' | 'serialize'

declare type InternalBehaviorEventType<
  TNamespace extends InternalBehaviorEventNamespace,
  TType extends string = '',
> = TType extends '' ? `${TNamespace}` : `${TNamespace}.${TType}`

declare type InternalPatchEvent = NamespaceEvent<PatchEvent, 'internal'> & {
  actionId?: string
  value: Array<PortableTextBlock>
}

/**
 * The editor has invalid data in the value that can be resolved by the user
 * @beta */
declare type InvalidValueResolution = {
  autoResolve?: boolean
  patches: Patch[]
  description: string
  action: string
  item: PortableTextBlock[] | PortableTextBlock | PortableTextChild | undefined
  /**
   * i18n keys for the description and action
   *
   * These are in addition to the description and action properties, to decouple the editor from
   * the i18n system, and allow usage without it. The i18n keys take precedence over the
   * description and action properties, if i18n framework is available.
   */
  i18n: {
    description: `inputs.portable-text.invalid-value.${Lowercase<string>}.description`
    action: `inputs.portable-text.invalid-value.${Lowercase<string>}.action`
    values?: Record<string, string | number | string[]>
  }
}

/**
 * @public
 */
export declare function isActiveAnnotation(
  annotation: string,
): EditorSelector<boolean>

/**
 * @public
 */
export declare function isActiveDecorator(
  decorator: string,
): EditorSelector<boolean>

/**
 * @public
 */
export declare function isActiveListItem(
  listItem: string,
): EditorSelector<boolean>

/**
 * @public
 */
export declare function isActiveStyle(style: string): EditorSelector<boolean>

/**
 * @public
 */
export declare function isAtTheEndOfBlock(block: {
  node: PortableTextBlock
  path: [KeyedSegment]
}): EditorSelector<boolean>

/**
 * @public
 */
export declare function isAtTheStartOfBlock(block: {
  node: PortableTextBlock
  path: [KeyedSegment]
}): EditorSelector<boolean>

/**
 * @public
 */
export declare function isOverlappingSelection(
  selection: EditorSelection,
): EditorSelector<boolean>

/**
 * @public
 */
export declare function isPointAfterSelection(
  point: EditorSelectionPoint,
): EditorSelector<boolean>

/**
 * @public
 */
export declare function isPointBeforeSelection(
  point: EditorSelectionPoint,
): EditorSelector<boolean>

/**
 * @public
 */
export declare const isSelectingEntireBlocks: EditorSelector<boolean>

/**
 * @public
 */
export declare const isSelectionCollapsed: EditorSelector<boolean>

/**
 * @public
 */
export declare const isSelectionExpanded: EditorSelector<boolean>

declare type KeyboardBehaviorEvent =
  | {
      type: NativeBehaviorEventType<'keyboard', 'keydown'>
      originEvent: Pick<
        KeyboardEvent,
        'key' | 'code' | 'altKey' | 'ctrlKey' | 'metaKey' | 'shiftKey'
      >
    }
  | {
      type: NativeBehaviorEventType<'keyboard', 'keyup'>
      originEvent: Pick<
        KeyboardEvent,
        'key' | 'code' | 'altKey' | 'ctrlKey' | 'metaKey' | 'shiftKey'
      >
    }

declare type MIMEType = `${string}/${string}`

declare type MouseBehaviorEvent = {
  type: NativeBehaviorEventType<'mouse', 'click'>
  position: EventPosition
}

/**
 * @public
 */
declare type MutationEvent = {
  type: 'mutation'
  patches: Array<Patch>
  /**
   * @deprecated Use `value` instead
   */
  snapshot: Array<PortableTextBlock> | undefined
  value: Array<PortableTextBlock> | undefined
}

declare type NamespacedBehaviorEventType<
  TNamespace extends BehaviorEventTypeNamespace | '',
> = TNamespace extends ''
  ? BehaviorEvent['type']
  : Extract<BehaviorEvent['type'], TNamespace | `${TNamespace}.${string}`>

declare type NamespaceEvent<
  TEvent,
  TNamespace extends string,
> = TEvent extends {
  type: infer TEventType
}
  ? {
      [K in keyof TEvent]: K extends 'type'
        ? `${TNamespace}.${TEventType & string}`
        : TEvent[K]
    }
  : never

/**
 * @beta
 */
declare type NativeBehaviorEvent =
  | ClipboardBehaviorEvent
  | DragBehaviorEvent
  | InputBehaviorEvent
  | KeyboardBehaviorEvent
  | MouseBehaviorEvent

/**************************************
 * Native events
 **************************************/
declare type NativeBehaviorEventNamespace =
  | 'clipboard'
  | 'drag'
  | 'input'
  | 'keyboard'
  | 'mouse'

declare type NativeBehaviorEventType<
  TNamespace extends NativeBehaviorEventNamespace,
  TType extends string = '',
> = TType extends '' ? `${TNamespace}` : `${TNamespace}.${TType}`

declare type ObjectBlockWithOptionalKey = Omit<PortableTextObject, '_key'> & {
  _key?: PortableTextObject['_key']
}

/**
 * @public
 */
declare type PatchesEvent = {
  type: 'patches'
  patches: Array<Patch>
  snapshot: Array<PortableTextBlock> | undefined
}

declare type PatchEvent = {
  type: 'patch'
  patch: Patch
}

/**
 * @internal
 */
declare type PickFromUnion<
  TUnion,
  TTagKey extends keyof TUnion,
  TPickedTags extends TUnion[TTagKey],
> = TUnion extends Record<TTagKey, TPickedTags> ? TUnion : never

/** @beta */
declare type PortableTextMemberSchemaTypes = {
  annotations: (ObjectSchemaType & {
    i18nTitleKey?: string
  })[]
  block: ObjectSchemaType
  blockObjects: ObjectSchemaType[]
  decorators: BlockDecoratorDefinition[]
  inlineObjects: ObjectSchemaType[]
  portableText: ArraySchemaType<PortableTextBlock>
  span: ObjectSchemaType
  styles: BlockStyleDefinition[]
  lists: BlockListDefinition[]
}

declare interface PortableTextSlateEditor extends ReactEditor {
  _key: 'editor'
  _type: 'editor'
  createPlaceholderBlock: () => Descendant
  editable: EditableAPI
  history: History_2
  insertPortableTextData: (data: DataTransfer) => boolean
  insertTextOrHTMLData: (data: DataTransfer) => boolean
  isTextBlock: (value: unknown) => value is PortableTextTextBlock
  isTextSpan: (value: unknown) => value is PortableTextSpan
  isListBlock: (value: unknown) => value is PortableTextListBlock
  /**
   * Use hotkeys
   */
  pteWithHotKeys: (event: KeyboardEvent_2<HTMLDivElement>) => void
  /**
   * Helper function that creates a text block
   */
  pteCreateTextBlock: (options: {
    decorators: Array<string>
    listItem?: string
    level?: number
  }) => Descendant
  /**
   * Undo
   */
  undo: () => void
  /**
   * Redo
   */
  redo: () => void
}

/**************************************
 * Resolve behavior event
 **************************************/
declare type ResolveBehaviorEvent<
  TBehaviorEventType extends
    | '*'
    | `${BehaviorEventTypeNamespace}.*`
    | BehaviorEvent['type'],
  TPayload extends Record<string, unknown> = Record<string, unknown>,
> = TBehaviorEventType extends '*'
  ? BehaviorEvent
  : TBehaviorEventType extends `${infer TNamespace}.*`
    ? TNamespace extends BehaviorEventTypeNamespace
      ? PickFromUnion<
          BehaviorEvent,
          'type',
          NamespacedBehaviorEventType<TNamespace>
        >
      : never
    : TBehaviorEventType extends `custom.${infer TType}`
      ? CustomBehaviorEvent<TPayload, TType>
      : TBehaviorEventType extends BehaviorEvent['type']
        ? PickFromUnion<BehaviorEvent, 'type', TBehaviorEventType>
        : never

declare type Serializer<TMIMEType extends MIMEType> = ({
  snapshot,
  event,
}: {
  snapshot: EditorSnapshot
  event: PickFromUnion<ConverterEvent<TMIMEType>, 'type', 'serialize'>
}) => PickFromUnion<
  ConverterEvent<TMIMEType>,
  'type',
  'serialization.success' | 'serialization.failure'
>

/**
 * @beta
 */
declare type SyntheticBehaviorEvent =
  | {
      type: SyntheticBehaviorEventType<'annotation', 'add'>
      annotation: {
        name: string
        value: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: SyntheticBehaviorEventType<'annotation', 'remove'>
      annotation: {
        name: string
      }
    }
  | {
      type: SyntheticBehaviorEventType<'annotation', 'toggle'>
      annotation: {
        name: string
        value: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: SyntheticBehaviorEventType<'block', 'set'>
      at: [KeyedSegment]
      props: Record<string, unknown>
    }
  | {
      type: SyntheticBehaviorEventType<'block', 'unset'>
      at: [KeyedSegment]
      props: Array<string>
    }
  | {
      type: SyntheticBehaviorEventType<'blur'>
    }
  | {
      type: SyntheticBehaviorEventType<'data transfer', 'set'>
      data: string
      dataTransfer: DataTransfer
      mimeType: MIMEType
    }
  | {
      type: SyntheticBehaviorEventType<'decorator', 'add'>
      decorator: string
      offsets?: {
        anchor: BlockOffset
        focus: BlockOffset
      }
    }
  | {
      type: SyntheticBehaviorEventType<'decorator', 'remove'>
      decorator: string
    }
  | {
      type: SyntheticBehaviorEventType<'decorator', 'toggle'>
      decorator: string
      offsets?: {
        anchor: BlockOffset
        focus: BlockOffset
      }
    }
  | {
      type: SyntheticBehaviorEventType<'delete'>
      selection: NonNullable<EditorSelection>
    }
  | {
      type: SyntheticBehaviorEventType<'delete', 'backward'>
      unit: TextUnit
    }
  | {
      type: SyntheticBehaviorEventType<'delete', 'block'>
      at: [KeyedSegment]
    }
  | {
      type: SyntheticBehaviorEventType<'delete', 'forward'>
      unit: TextUnit
    }
  | {
      type: SyntheticBehaviorEventType<'delete', 'text'>
      anchor: BlockOffset
      focus: BlockOffset
    }
  | {
      type: SyntheticBehaviorEventType<'focus'>
    }
  | {
      type: SyntheticBehaviorEventType<'history', 'redo'>
    }
  | {
      type: SyntheticBehaviorEventType<'history', 'undo'>
    }
  | {
      type: SyntheticBehaviorEventType<'insert', 'blocks'>
      blocks: Array<PortableTextBlock>
      placement: InsertPlacement
    }
  | {
      type: SyntheticBehaviorEventType<'insert', 'inline object'>
      inlineObject: {
        name: string
        value?: {
          [prop: string]: unknown
        }
      }
    }
  | {
      type: SyntheticBehaviorEventType<'insert', 'break'>
    }
  | {
      type: SyntheticBehaviorEventType<'insert', 'soft break'>
    }
  | {
      type: SyntheticBehaviorEventType<'insert', 'block'>
      block: BlockWithOptionalKey
      placement: InsertPlacement
      select?: 'start' | 'end' | 'none'
    }
  | {
      type: SyntheticBehaviorEventType<'insert', 'span'>
      text: string
      annotations?: Array<{
        name: string
        value: {
          [prop: string]: unknown
        }
      }>
      decorators?: Array<string>
    }
  | {
      type: SyntheticBehaviorEventType<'insert', 'text'>
      text: string
    }
  | {
      type: SyntheticBehaviorEventType<'list item', 'add'>
      listItem: string
    }
  | {
      type: SyntheticBehaviorEventType<'list item', 'remove'>
      listItem: string
    }
  | {
      type: SyntheticBehaviorEventType<'list item', 'toggle'>
      listItem: string
    }
  | {
      type: SyntheticBehaviorEventType<'move', 'block'>
      at: [KeyedSegment]
      to: [KeyedSegment]
    }
  | {
      type: SyntheticBehaviorEventType<'move', 'block down'>
      at: [KeyedSegment]
    }
  | {
      type: SyntheticBehaviorEventType<'move', 'block up'>
      at: [KeyedSegment]
    }
  | {
      type: SyntheticBehaviorEventType<'select'>
      selection: EditorSelection
    }
  | {
      type: SyntheticBehaviorEventType<'select', 'previous block'>
      select?: 'start' | 'end'
    }
  | {
      type: SyntheticBehaviorEventType<'select', 'next block'>
      select?: 'start' | 'end'
    }
  | {
      type: SyntheticBehaviorEventType<'style', 'add'>
      style: string
    }
  | {
      type: SyntheticBehaviorEventType<'style', 'remove'>
      style: string
    }
  | {
      type: SyntheticBehaviorEventType<'style', 'toggle'>
      style: string
    }
  | {
      type: SyntheticBehaviorEventType<'deserialization', 'success'>
      mimeType: MIMEType
      data: Array<PortableTextBlock>
      originEvent:
        | PickFromUnion<
            NativeBehaviorEvent,
            'type',
            'drag.drop' | 'clipboard.paste'
          >
        | InputBehaviorEvent
    }
  | {
      type: SyntheticBehaviorEventType<'deserialization', 'failure'>
      mimeType: MIMEType
      reason: string
      originEvent:
        | PickFromUnion<
            NativeBehaviorEvent,
            'type',
            'drag.drop' | 'clipboard.paste'
          >
        | InputBehaviorEvent
    }
  | {
      type: SyntheticBehaviorEventType<'serialization', 'success'>
      mimeType: MIMEType
      data: string
      originEvent: PickFromUnion<
        NativeBehaviorEvent,
        'type',
        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
      >
    }
  | {
      type: SyntheticBehaviorEventType<'serialization', 'failure'>
      mimeType: MIMEType
      reason: string
      originEvent: PickFromUnion<
        NativeBehaviorEvent,
        'type',
        'clipboard.copy' | 'clipboard.cut' | 'drag.dragstart'
      >
    }

declare type SyntheticBehaviorEventNamespace =
  | 'annotation'
  | 'block'
  | 'blur'
  | 'data transfer'
  | 'decorator'
  | 'delete'
  | 'deserialization'
  | 'focus'
  | 'history'
  | 'insert'
  | 'list item'
  | 'move'
  | 'select'
  | 'serialization'
  | 'style'

/**************************************
 * Synthetic events
 **************************************/
declare type SyntheticBehaviorEventType<
  TNamespace extends SyntheticBehaviorEventNamespace,
  TType extends string = '',
> = TType extends '' ? `${TNamespace}` : `${TNamespace}.${TType}`

declare type TextBlockWithOptionalKey = Omit<PortableTextTextBlock, '_key'> & {
  _key?: PortableTextTextBlock['_key']
}

declare type UnsetEvent = {
  type: 'unset'
  previousValue: Array<PortableTextBlock>
}

export {}
